<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Using density-specific resources on Android</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta content="Scroll EclipseHelp Exporter" name="generator" />
<link type="text/css" rel="stylesheet" />
<link type="text/css" rel="stylesheet" />
<link type="text/css" rel="stylesheet" media="print" />
</head>
<body>
<div class="container">
<div class="header"></div>
<div id="29004808" class="content"><a id="editButton" href="https://wiki.appcelerator.org/pages/editpage.action?pageId=29004808"><span>Edit</span></a>
<h1>Using density-specific resources on Android</h1>
<div class="section section-2 " id="29004808_Usingdensity-specificresourcesonAndroid-Contents">
<h2 class="heading "><span>Contents</span></h2>
<p>
</p>
<ul class="toc-indentation "><li class=" "> <p>
<a class="document-link " href="#!/guide/Using_density-specific_resources_on_Android-section-29004808_Usingdensity-specificresourcesonAndroid-Overview" Using_density-specific_resources_on_Android.html#29004808_Usingdensity-specificresourcesonAndroid-Overview="Using_density-specific_resources_on_Android.html#29004808_Usingdensity-specificresourcesonAndroid-Overview">Overview</a> </p>
</li><li class=" "> <p>
<a class="document-link " href="#!/guide/Using_density-specific_resources_on_Android-section-29004808_Usingdensity-specificresourcesonAndroid-Platform-specificimagesFolder" Using_density-specific_resources_on_Android.html#29004808_Usingdensity-specificresourcesonAndroid-Platform-specificimagesFolder="Using_density-specific_resources_on_Android.html#29004808_Usingdensity-specificresourcesonAndroid-Platform-specificimagesFolder">Platform-specific images Folder</a> </p>
</li><li class=" "> <p>
<a class="document-link " href="#!/guide/Using_density-specific_resources_on_Android-section-29004808_Usingdensity-specificresourcesonAndroid-Morecontrol" Using_density-specific_resources_on_Android.html#29004808_Usingdensity-specificresourcesonAndroid-Morecontrol="Using_density-specific_resources_on_Android.html#29004808_Usingdensity-specificresourcesonAndroid-Morecontrol">More control</a> </p>
</li><li class=" "> <p>
<a class="document-link " href="#!/guide/Using_density-specific_resources_on_Android-section-29004808_Usingdensity-specificresourcesonAndroid-Foldernamebreakdown" Using_density-specific_resources_on_Android.html#29004808_Usingdensity-specificresourcesonAndroid-Foldernamebreakdown="Using_density-specific_resources_on_Android.html#29004808_Usingdensity-specificresourcesonAndroid-Foldernamebreakdown">Folder name breakdown</a> </p>
</li><li class=" "> <p>
<a class="document-link " href="#!/guide/Using_density-specific_resources_on_Android-section-29004808_Usingdensity-specificresourcesonAndroid-Workingwiththefoldernames" Using_density-specific_resources_on_Android.html#29004808_Usingdensity-specificresourcesonAndroid-Workingwiththefoldernames="Using_density-specific_resources_on_Android.html#29004808_Usingdensity-specificresourcesonAndroid-Workingwiththefoldernames">Working with the folder names</a> </p>
</li><li class=" "> <p>
<a class="document-link " href="#!/guide/Using_density-specific_resources_on_Android-section-29004808_Usingdensity-specificresourcesonAndroid-Documentation" Using_density-specific_resources_on_Android.html#29004808_Usingdensity-specificresourcesonAndroid-Documentation="Using_density-specific_resources_on_Android.html#29004808_Usingdensity-specificresourcesonAndroid-Documentation">Documentation</a> </p>
</li><li class=" "> <p>
<a class="document-link " href="#!/guide/Using_density-specific_resources_on_Android-section-29004808_Usingdensity-specificresourcesonAndroid-Subfolders" Using_density-specific_resources_on_Android.html#29004808_Usingdensity-specificresourcesonAndroid-Subfolders="Using_density-specific_resources_on_Android.html#29004808_Usingdensity-specificresourcesonAndroid-Subfolders">Subfolders</a> </p>
<ul class="toc-indentation "><li class=" "> <p>
<a class="document-link " href="#!/guide/Using_density-specific_resources_on_Android-section-29004808_Usingdensity-specificresourcesonAndroid-Notes" Using_density-specific_resources_on_Android.html#29004808_Usingdensity-specificresourcesonAndroid-Notes="Using_density-specific_resources_on_Android.html#29004808_Usingdensity-specificresourcesonAndroid-Notes">Notes</a> </p>
</li></ul></li><li class=" "> <p>
<a class="document-link " href="#!/guide/Using_density-specific_resources_on_Android-section-29004808_Usingdensity-specificresourcesonAndroid-Theappicon" Using_density-specific_resources_on_Android.html#29004808_Usingdensity-specificresourcesonAndroid-Theappicon="Using_density-specific_resources_on_Android.html#29004808_Usingdensity-specificresourcesonAndroid-Theappicon">The appicon</a> </p>
</li><li class=" "> <p>
<a class="document-link " href="#!/guide/Using_density-specific_resources_on_Android-section-29004808_Usingdensity-specificresourcesonAndroid-UsingDensityIndependentPixels" Using_density-specific_resources_on_Android.html#29004808_Usingdensity-specificresourcesonAndroid-UsingDensityIndependentPixels="Using_density-specific_resources_on_Android.html#29004808_Usingdensity-specificresourcesonAndroid-UsingDensityIndependentPixels">Using Density Independent Pixels</a> </p>
<ul class="toc-indentation "><li class=" "> <p>
<a class="document-link " href="#!/guide/Using_density-specific_resources_on_Android-section-29004808_Usingdensity-specificresourcesonAndroid-CodeExamples" Using_density-specific_resources_on_Android.html#29004808_Usingdensity-specificresourcesonAndroid-CodeExamples="Using_density-specific_resources_on_Android.html#29004808_Usingdensity-specificresourcesonAndroid-CodeExamples">Code Examples</a> </p>
</li></ul></li></ul> </div>
<div class="section section-2 " id="29004808_Usingdensity-specificresourcesonAndroid-Overview">
<h2 class="heading "><span>Overview</span></h2>
<p>
This guide explains how a Titanium application can support different screen densities on Android.    </p>
</div>
<div class="section section-2 " id="29004808_Usingdensity-specificresourcesonAndroid-Platform-specificimagesFolder">
<h2 class="heading "><span>Platform-specific images Folder</span></h2>
<p>
The Android OS <a class="external-link external-link" href="http://developer.android.com/guide/practices/screens_support.html" target="_blank">divides the available screen densities into three groups</a>, high, medium, and low. You can specify image resources to use per density by placing them in an <tt class=" ">android/images/density</tt> folder, as in:    </p>
<p>
<img src="images/img.skitch.com/20101129-r3w6xk6i4tip9im3emgkfe86qp.png" alt="images/img.skitch.com/20101129-r3w6xk6i4tip9im3emgkfe86qp.png" class="confluence-embedded-image confluence-external-resource" />
</p>
<p>
Similarly to the iOS example, if we were creating a button in code (or referencing the image in a configuration file), we would just use <tt class=" ">myButton.png</tt>:    </p>
<div xmlns="http://www.w3.org/1999/xhtml" class="confbox programlisting scroll-unprocessed">
<div class="defaultnew syntaxhighlighter">
<div class="line"><code class="plain">var myButton = Ti.UI.createButton({</code></div>
<div class="line"><code class="plain">  backgroundImage:</code><code class="string">'images/myButton.png'</code></div>
<div class="line"><code class="plain">});</code></div>
</div>
</div> </div>
<div class="section section-2 " id="29004808_Usingdensity-specificresourcesonAndroid-Morecontrol">
<h2 class="heading "><span>More control</span></h2>
<p>
We can be even more specific about when these resources should be used. This is the same concept as above, but instead of using high, medium, and low we can put our images in subdirectories that give us more control over when they are used.    </p>
<p>
<img src="images/img.skitch.com/20110915-p6dx44aax2ftrhxr4k4nca4iwa.jpg" alt="images/img.skitch.com/20110915-p6dx44aax2ftrhxr4k4nca4iwa.jpg" class="confluence-embedded-image confluence-external-resource" />
</p>
</div>
<div class="section section-2 " id="29004808_Usingdensity-specificresourcesonAndroid-Foldernamebreakdown">
<h2 class="heading "><span>Folder name breakdown</span></h2>
<p>
Images that are in a folder named &quot;res-long-land-hdpi&quot; will be used for:    </p>
<ul class=" "><li class=" "> <p>
<strong class=" ">Long</strong> screens, such as WQVGA, WVGA, FWVGA    </p>
</li><li class=" "> <p>
Device is in <strong class=" ">landscape</strong> orientation (horizontal)    </p>
</li><li class=" "> <p>
<strong class=" ">High-density screens</strong>; approximately 240dpi.    </p>
</li></ul> </div>
<div class="section section-2 " id="29004808_Usingdensity-specificresourcesonAndroid-Workingwiththefoldernames">
<h2 class="heading "><span>Working with the folder names</span></h2>
<p>
With this naming convention you can be as specific or as broad as you need to be.<br />For instance, if you have these two folders in &quot;Resources/android/images&quot;:    </p>
<ul class=" "><li class=" "> <p>
&quot;res-long-land-hdpi&quot;    </p>
</li><li class=" "> <p>
&quot;res-notlong-land-hdpi&quot;    </p>
</li></ul> <p>
But you don't need to have different images based on it being long or notlong. So all you need to do is remove that property from the folder name. So you end up with one folder named:    </p>
<ul class=" "><li class=" "> <p>
&quot;res-land-hdpi&quot;    </p>
</li></ul> <p>
that will cover both instances. And if you where also going to use the same images for hdpi devices, no matter if it is portrait or landscape you could just name that folder    </p>
<ul class=" "><li class=" "> <p>
&quot;res-hdpi&quot;    </p>
</li></ul> </div>
<div class="section section-2 " id="29004808_Usingdensity-specificresourcesonAndroid-Documentation">
<h2 class="heading "><span>Documentation</span></h2>
<p>
The full list of qualifiers that you can use for these folders can be found <a class="external-link external-link" href="http://developer.android.com/guide/topics/resources/providing-resources.html" target="_blank">here</a>.    </p>
</div>
<div class="section section-2 " id="29004808_Usingdensity-specificresourcesonAndroid-Subfolders">
<h2 class="heading "><span>Subfolders</span></h2>
<p>
If you want to put your image in a subfolder, you would put it in &quot;Resources/android/images/res-long-land-hdpi/subfolder/test.png&quot; and refer to it in your app as &quot;image/subfolder/test.png&quot;.    </p>
<div class="section section-3 " id="29004808_Usingdensity-specificresourcesonAndroid-Notes">
<h3 class="heading "><span>Notes</span></h3>
<ul class=" "><li class=" "> <p>
These folders are searched for images from most specific to most broad. It is a good idea to have a folder named &quot;res-mdpi&quot;, if an image doesn't exist in one of the other folders it will look there for it last before it fails to find the image. It is the default folder.    </p>
</li><li class=" "> <p>
Using &quot;high&quot;, &quot;medium&quot;, and &quot;low&quot; is the same as using &quot;res-hdpi&quot;, &quot;res-mdpi&quot;, and &quot;res-ldpi&quot;.    </p>
</li></ul> </div>
</div>
<div class="section section-2 " id="29004808_Usingdensity-specificresourcesonAndroid-Theappicon">
<h2 class="heading "><span>The appicon</span></h2>
<p>
The method above will not work for the appicon.png because the it is referenced directly from the android project and does not pass through titanium. When you use the method above the names of images are mangled to avoid collisions and we are only able to reference them through titanium.    </p>
<p>
To use density specific versions of the appicon you will need to create a folder structure in the root of the app that looks something like this:    </p>
<ul class=" "><li class=" "> <p>
&quot;&lt;app&gt;/platform/android/res/drawable&quot;    </p>
</li><li class=" "> <p>
&quot;&lt;app&gt;/platform/android/res/drawable-hdpi&quot;    </p>
</li></ul> <p>
<img src="images/img.skitch.com/20110915-93bn2rtifjcjk838xmrjsx4y5.jpg" alt="images/img.skitch.com/20110915-93bn2rtifjcjk838xmrjsx4y5.jpg" class="confluence-embedded-image confluence-external-resource" />
</p>
<p>
The folder &quot;drawable&quot; is the default folder that is looked in last.    </p>
</div>
<div class="section section-2 " id="29004808_Usingdensity-specificresourcesonAndroid-UsingDensityIndependentPixels">
<h2 class="heading "><span>Using Density Independent Pixels</span></h2>
<p>
Android devices, as you are no doubt aware, come in many shapes and sizes. For developers, that means supporting screens with different resolutions and densities - the <a class="external-link external-link" href="http://developer.android.com/guide/practices/screens_support.html" target="_blank">official Android docs on supporting multiple screens</a> is essential reading on this topic. <strong class=" ">Screen density</strong> is the number of pixels on a physical space on the screen, usually measured in dpi (dots per inch). <strong class=" ">Screen resolution</strong> is the actual number of pixels on the screen, usually given in a width by height notation like &quot;1440x960&quot;.    </p>
<p>
For example, I have a <a class="external-link external-link" href="http://developer.motorola.com/products/droid2/" target="_blank">Motorola Droid 2</a> I use for development. The resolution of its display is 480x854 - it is also considered a &quot;high density&quot; screen (240dpi) because all of those pixels are packed into a reasonably small area. If I wanted to test this device screen size on my desktop in the emulator, I would use the &quot;WVGA854&quot; skin, which is available in the Run Configurations menu in Titanium Studio:    </p>
<p>
<img src="images/img.skitch.com/20110624-8uubj48dj7g882pnarthn1sk2s.jpg" alt="images/img.skitch.com/20110624-8uubj48dj7g882pnarthn1sk2s.jpg" class="confluence-embedded-image confluence-external-resource" />
</p>
<p>
Android will ship on devices with many different screen densities, so coding our application with different pixel sizes for fonts and layouts would get old pretty fast. To help combat this, Android allows developers to specify layout values (and font sizes, though the term is slightly different) in <strong class=" ">density independent pixels</strong>, also called <strong class=" ">dips</strong>. When your UI components are sized in dips, the Android OS will scale your UI up or down as if the screen your application is running on were what it calls a &quot;medium density&quot; (or 160dpi) screen. Most of the time, this is the behavior we would want and expect.    </p>
<p>
To make dips the default unit for UI components in an Android application, it requires an entry in AndroidManifest.xml (android:anyDensity=&quot;false&quot;), which is what we specified in our tiapp.xml above.    </p>
<div class="section section-3 " id="29004808_Usingdensity-specificresourcesonAndroid-CodeExamples">
<h3 class="heading "><span>Code Examples</span></h3>
<p>
In Titanium Mobile, typically we specify fontSize or <tt class=" ">height/width/top/bottom/left/right</tt> values as integer values. On iPhone, these values correspond to the 320x480 point system used to lay out UI components (even though the densities of iPhone handsets can be different). On Android in 1.7, raw integer values (unless the tiapp.xml configuration is changed) correspond to real pixels on the screen. Consider the following simple app.js:    </p>
<div xmlns="http://www.w3.org/1999/xhtml" class="confbox programlisting scroll-unprocessed">
<div class="defaultnew syntaxhighlighter">
<div class="line"><code class="plain">var win = Ti.UI.createWindow({</code></div>
<div class="line"><code class="plain">    backgroundColor:</code><code class="string">'white'</code><code class="plain">,</code></div>
<div class="line"><code class="plain">    layout:</code><code class="string">'vertical'</code></div>
<div class="line"><code class="plain">});</code></div>
<div class="line"><code class="plain">win.add(Ti.UI.createLabel({</code></div>
<div class="line"><code class="plain">    top:</code><code class="value">10</code><code class="plain">,</code></div>
<div class="line"><code class="plain">    text:</code><code class="string">'Hello World'</code><code class="plain">,</code></div>
<div class="line"><code class="plain">    color:</code><code class="string">'black'</code><code class="plain">,</code></div>
<div class="line"><code class="plain">    height:Ti.UI.SIZE,</code></div>
<div class="line"><code class="plain">    width:Ti.UI.FILL,</code></div>
<div class="line"><code class="plain">    font: {</code></div>
<div class="line"><code class="plain">        fontSize:</code><code class="value">18</code></div>
<div class="line"><code class="plain">    }</code></div>
<div class="line"><code class="plain">}));</code></div>
<div class="line"><code class="plain">win.add(Ti.UI.createView({</code></div>
<div class="line"><code class="plain">    top:</code><code class="value">10</code><code class="plain">,</code></div>
<div class="line"><code class="plain">    height:</code><code class="value">200</code><code class="plain">,</code></div>
<div class="line"><code class="plain">    width:</code><code class="value">200</code><code class="plain">,</code></div>
<div class="line"><code class="plain">    backgroundColor:</code><code class="string">'green'</code></div>
<div class="line"><code class="plain">}));</code></div>
<div class="line"><code class="plain">win.open();</code></div>
</div>
</div> <p>
On Android, on a medium density display (like the HVGA screen size in the emulator), the box and text show up at a pretty large size. On a high resolution, high density display like my Droid 2, the text and box are pretty small:    </p>
<p>
<img src="images/img.skitch.com/20110624-1cuy2xhs9uf9bkinb9mgtnr26s.jpg" alt="images/img.skitch.com/20110624-1cuy2xhs9uf9bkinb9mgtnr26s.jpg" class="confluence-embedded-image confluence-external-resource" />
</p>
<p>
In terms of proportions, I'd prefer to have the box and text show up at about the same size on the high density screen as well. I can fix my code by specifying my heights/widths/font sizes as density-independent pixels (DIPs) by specifying a 'dp' or 'dip' string rather than an integer value:    </p>
<div xmlns="http://www.w3.org/1999/xhtml" class="confbox programlisting scroll-unprocessed">
<div class="defaultnew syntaxhighlighter">
<div class="line"><code class="plain">var win = Ti.UI.createWindow({</code></div>
<div class="line"><code class="plain">    backgroundColor:</code><code class="string">'white'</code><code class="plain">,</code></div>
<div class="line"><code class="plain">    layout:</code><code class="string">'vertical'</code></div>
<div class="line"><code class="plain">});</code></div>
<div class="line"><code class="plain">win.add(Ti.UI.createLabel({</code></div>
<div class="line"><code class="plain">    top:</code><code class="string">'10dp'</code><code class="plain">,</code></div>
<div class="line"><code class="plain">    text:</code><code class="string">'Hello World'</code><code class="plain">,</code></div>
<div class="line"><code class="plain">    color:</code><code class="string">'black'</code><code class="plain">,</code></div>
<div class="line"><code class="plain">    height:Ti.UI.SIZE,</code></div>
<div class="line"><code class="plain">    width:Ti.UI.FILL,</code></div>
<div class="line"><code class="plain">    font: {</code></div>
<div class="line"><code class="plain">        fontSize:</code><code class="string">'18dp'</code></div>
<div class="line"><code class="plain">    }</code></div>
<div class="line"><code class="plain">}));</code></div>
<div class="line"><code class="plain">win.add(Ti.UI.createView({</code></div>
<div class="line"><code class="plain">    top:</code><code class="string">'10dp'</code><code class="plain">,</code></div>
<div class="line"><code class="plain">    height:</code><code class="string">'200dp'</code><code class="plain">,</code></div>
<div class="line"><code class="plain">    width:</code><code class="string">'200dp'</code><code class="plain">,</code></div>
<div class="line"><code class="plain">    backgroundColor:</code><code class="string">'green'</code></div>
<div class="line"><code class="plain">}));</code></div>
<div class="line"><code class="plain">win.open();</code></div>
</div>
</div> <p>
On the iOS side, the default unit is DIPs, so this doesn't change anything on iOS. The updated code produces something which is a little closer to what I'd expect on Android:    </p>
<p>
<img src="images/img.skitch.com/20110624-x6s9hjq5qm94q3w5ydhj1636xa.jpg" alt="images/img.skitch.com/20110624-x6s9hjq5qm94q3w5ydhj1636xa.jpg" class="confluence-embedded-image confluence-external-resource" />
</p>
</div>
</div>
</div>
<div class="footer">
            Created with <a href="http://k15t.com/display/web/Scroll-Wiki-EclipseHelp-Exporter-for-Confluence" target="_blank">Scroll EclipseHelp Exporter for Confluence</a>.
        </div>
</div>
</body>
</html>
