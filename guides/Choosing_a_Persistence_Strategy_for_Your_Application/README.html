<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Choosing a Persistence Strategy for Your Application</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta content="Scroll EclipseHelp Exporter" name="generator" />
<link type="text/css" rel="stylesheet" />
<link type="text/css" rel="stylesheet" />
<link type="text/css" rel="stylesheet" media="print" />
</head>
<body>
<div class="container">
<div class="header"></div>
<div id="29004899" class="content"><a id="editButton" href="https://wiki.appcelerator.org/pages/editpage.action?pageId=29004899"><span>Edit</span></a>
<h1>Choosing a Persistence Strategy for Your Application</h1>
<div class="section section-2 " id="29004899_ChoosingaPersistenceStrategyforYourApplication-Objective">
<h2 class="heading "><span>Objective</span></h2>
<p>
Titanium provides various means to save data to the user's mobile device. In this chapter, you will examine those options and select the best technique for a given situation.    </p>
</div>
<div class="section section-2 " id="29004899_ChoosingaPersistenceStrategyforYourApplication-Contents">
<h2 class="heading "><span>Contents</span></h2>
<p>
Even the most rudimentary applications usually have some data storage requirements. As always, Titanium provides access to all the native functionality via its convenient, uniform interface. To use a device's local storage, the following objects are needed:    </p>
<ul class=" "><li class=" "> <p>
<tt class=" ">Titanium.App.Properties</tt> is ideal for storing application-related settings    </p>
</li><li class=" "> <p>
<tt class=" ">Titanium.Database</tt> gives access to local SQLite3 databases    </p>
</li><li class=" "> <p>
<tt class=" ">Titanium.Filesystem</tt> facilitates file and directory manipulation    </p>
</li></ul> <p>
Each of these enable data to persist on a device across application restarts, power cycles, re-installation and even migration to a new device.    </p>
<div class="section section-3 " id="29004899_ChoosingaPersistenceStrategyforYourApplication-Properties">
<h3 class="heading "><span>Properties</span></h3>
<p>
The <tt class=" ">Titanium.App.Properties</tt> API provides a lightweight key/value store. Titanium provides methods for reading and writing string, integer, boolean, and array values in properties. Any data that can be JSON serialized can be stored in an application property. Properties are a great place to store small chunks of data, such as configuration data for your app. But if you've got a lot of data to store, or you need to set up relationships between those data points, you'd be better served putting it in a database.    </p>
</div>
<div class="section section-3 " id="29004899_ChoosingaPersistenceStrategyforYourApplication-Database">
<h3 class="heading "><span>Database</span></h3>
<p>
Both iOS and Android include a SQLite3 database engine. If you're not familiar with SQLite, you might want to take a brief side trip to <a class="external-link external-link" href="http://sqlite.org" target="_blank">http://sqlite.org</a>. In a nutshell, SQLite is a simplified database management system that supports <a class="external-link external-link" href="http://sqlite.org/omitted.html" target="_blank">most of the SQL92 specification</a>, including most of the familiar SQL statements and even transactions.    </p>
<p>
The database is the appropriate place to store lots of structured data or when you need transactional support. You can define tables and columns, and enforce relationships between tables just as you would with a SQLServer or MySQL database. Data persists in the database until the user uninstalls your app or until you overwrite or remove the data.    </p>
</div>
<div class="section section-3 " id="29004899_ChoosingaPersistenceStrategyforYourApplication-Filesystem">
<h3 class="heading "><span>Filesystem</span></h3>
<p>
<tt class=" ">Titanium.Filesystem</tt> let's you read from and write to files on the user's device. Broadly speaking, your app is restricted to reading and writing its own files and cannot access files created by other apps. On Android devices, your app can save files to internal or external (SD card) storage. Files are a great place to store images or other binary data.    </p>
</div>
<div class="section section-3 " id="29004899_ChoosingaPersistenceStrategyforYourApplication-WhatkindofdatastorageshouldIuse?">
<h3 class="heading "><span>What kind of data storage should I use?</span></h3>
<p>
The decision about which of the three local storage options you choose is usually determined by the following:    </p>
<ol class=" "><li class=" "> <p>
<strong class=" ">Application Properties</strong> - used when one or all of the following is true:    </p>
<ul class=" "><li class=" "> <p>
the data consists of simple key/value pairs    </p>
</li><li class=" "> <p>
the data is related to the application rather than the user    </p>
</li><li class=" "> <p>
the data does not require other data in order to be meaningful or useful    </p>
</li><li class=" "> <p>
there only needs to be one version of the data stored at any one time    </p>
</li></ul></li><li class=" "> <p>
<strong class=" ">Database</strong> - used this when one or all of the following is true:    </p>
<ul class=" "><li class=" "> <p>
there are many similar data items    </p>
</li><li class=" "> <p>
items of data relate to each other    </p>
</li><li class=" "> <p>
you require flexibility over how the data will be presented when you retrieve it    </p>
</li><li class=" "> <p>
the data accumulates over time, such as transaction, logging or archiving data    </p>
</li></ul></li><li class=" "> <p>
<strong class=" ">Filesystem</strong> - used when one or all of the following is true:    </p>
<ul class=" "><li class=" "> <p>
the data is already provided in file format    </p>
</li><li class=" "> <p>
the data is an image file    </p>
</li></ul></li></ol> <div class="confbox admonition admonition-note aui-message warning shadowed information-macro">
<p>
</p>
<p>
Although the local database has the capability to store images in blob (binary) format, this won't lead to optimal performance from your application. Instead, use <tt class=" ">Titanium.Database</tt> to store the image file path and name in the database, and <tt class=" ">Titanium.Filesystem</tt> to manage the physical files.    </p>
</div>
</div>
</div>
<div class="section section-2 " id="29004899_ChoosingaPersistenceStrategyforYourApplication-ReferencesandFurtherReading">
<h2 class="heading "><span>References and Further Reading</span></h2>
<ul class=" "><li class=" "> <p>
API docs:    </p>
<ul class=" "><li class=" "> <p>
<a class="external-link external-link" href="#!/api/Titanium.App.Properties">Properties API</a> </p>
</li><li class=" "> <p>
<a class="external-link external-link" href="#!/api/Titanium.Database">Database API</a> </p>
</li><li class=" "> <p>
<a class="external-link external-link" href="#!/api/Titanium.Filesystem">Filesystem API</a> </p>
</li></ul></li><li class=" "> <p>
<a class="external-link external-link" href="https://github.com/kwhinnery/Persistence" target="_blank">Persistence demo app</a> </p>
</li><li class=" "> <p>
<a class="external-link external-link" href="http://sqlite.org" target="_blank">http://sqlite.org</a> </p>
</li></ul> </div>
<div class="section section-2 " id="29004899_ChoosingaPersistenceStrategyforYourApplication-Summary">
<h2 class="heading "><span>Summary</span></h2>
<p>
In this chapter, you examined the local storage options available to your Titanium apps. And we gave you some recommendations of which option to use in various situations. While we didn't dig into the implementation details yet, you got a chance to see when to use each of these persistence options. In the upcoming sections, we'll dig deep into each storage option.    </p>
</div>
</div>
<div class="footer">
            Created with <a href="http://k15t.com/display/web/Scroll-Wiki-EclipseHelp-Exporter-for-Confluence" target="_blank">Scroll EclipseHelp Exporter for Confluence</a>.
        </div>
</div>
</body>
</html>
