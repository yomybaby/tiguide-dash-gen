<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Custom Fonts</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta content="Scroll EclipseHelp Exporter" name="generator" />
<link type="text/css" rel="stylesheet" />
<link type="text/css" rel="stylesheet" />
<link type="text/css" rel="stylesheet" media="print" />
</head>
<body>
<div class="container">
<div class="header"></div>
<div id="29004935" class="content"><a id="editButton" href="https://wiki.appcelerator.org/pages/editpage.action?pageId=29004935"><span>Edit</span></a>
<h1>Custom Fonts</h1>
<p>
Custom fonts are a quick and easy way to personalize or brand your application. Titanium Mobile supports TrueType and OpenType fonts on both iOS and Android. There are some differences between how fonts are referenced on iOS and Android that need to be considered.    </p>
<p>
<img src="images/download/attachments/29004935/screenshot.png" alt="images/download/attachments/29004935/screenshot.png" class="confluence-embedded-image confluence-content-image-border" width="300" />
</p>
<p>
For an example of using custom fonts, download the <a class="attachment-link " href="attachments_37685705_2_Custom_Fonts.zip" attachments_37685705_2_Custom_Fonts.zip="attachments_37685705_2_Custom_Fonts.zip">Custom_Fonts</a> application.    </p>
<div class="section section-2 " id="29004935_CustomFonts-Findingfonts">
<h2 class="heading "><span>Finding fonts</span></h2>
<p>
You will need TTF or OTF font files to ship with your Titanium Mobile project. Depending on your application's license and distribution model, you might need to pay for such use, or you might be able to use an open source font. Below are links to a couple of sources of fonts:    </p>
<ul class=" "><li class=" "> <p>
<a class="external-link external-link" href="http://www.google.com/webfonts" target="_blank">Google WebFonts</a> - Free fonts, mostly open source but some licenses for use in commercial projects    </p>
</li><li class=" "> <p>
<a class="external-link external-link" href="http://www.fontsquirrel.com/" target="_blank">FontSquirrel</a> - Freeware fonts licensed for commercial and open source projects    </p>
</li></ul> </div>
<div class="section section-2 " id="29004935_CustomFonts-Usingacustomfont(Alloyapplication)">
<h2 class="heading "><span>Using a custom font (Alloy application)</span></h2>
<p>
To use a custom font in an Alloy project, place the font file in a &quot;fonts&quot; folder inside each platform-specific assets folder, as shown below:    </p>
<p>
<img src="images/download/attachments/29004935/image2014-1-14_11_1_2.png" alt="images/download/attachments/29004935/image2014-1-14_11_1_2.png" class="confluence-embedded-image" />
</p>
<p>
Create a text-based UI element, such as a <a class="external-link external-link" href="#!/api/Titanium.UI.Label">Label</a> element, and optionally assign it an ID or class, as shown below.    </p>
<div xmlns="http://www.w3.org/1999/xhtml" class="confbox programlisting scroll-unprocessed">
<div class="title">View - index.xml</div>
<div class="defaultnew syntaxhighlighter">
<div class="line"><code class="plain">&lt;Alloy&gt;</code></div>
<div class="line"><code class="plain">  &lt;View&gt;</code></div>
<div class="line"><code class="plain">      &lt;Label id=</code><code class="string">"spicyrice"</code><code class="plain">&gt;This is Spicy Rice.&lt;/Label&gt;</code></div>
<div class="line"><code class="plain">      &lt;Label id=</code><code class="string">"burnstowndam"</code><code class="plain">&gt;This is Burnstown Dam.&lt;/Label&gt;</code></div>
<div class="line"><code class="plain">  &lt;/View&gt;</code></div>
<div class="line"><code class="plain">&lt;/Alloy&gt;</code></div>
</div>
</div> <p>
Create style rules for the <tt class=" ">#spicyrice</tt> and <tt class=" ">#burnstowndam</tt> elements that assigns the font to the rule's <a class="external-link external-link" href="#!/api/Font-property-fontFamily"><tt class=" ">fontFamily</tt> </a> property. The value you assign to <tt class=" ">fontFamily</tt> depends on the platform.    </p>
<ul class=" "><li class=" "> <p>
Android expects <tt class=" ">fontFamily</tt> to be the font's file name without the file extension (.otf or .tff).    </p>
</li><li class=" "> <p>
iOS expects <tt class=" ">fontFamily</tt> to be the font's PostScript name (see <a class="document-link " href="#!/guide/Custom_Fonts-section-29004935_CustomFonts-Findingafont%27sPostScriptname" Custom_Fonts.html#29004935_CustomFonts-Findingafont%27sPostScriptname="Custom_Fonts.html#29004935_CustomFonts-Findingafont%27sPostScriptname">Finding a font's PostScript name</a>). This name is embedded in the font file and does not change if you rename the file.    </p>
</li></ul> <p>
For example, in the following code the file name of the Burnstown Dam font is &quot;burnstown_dam.otf&quot;. For an Android application you therefore assign the value <strong class=" ">burnstown_dam</strong> to <tt class=" ">fontFamily</tt>:    </p>
<div xmlns="http://www.w3.org/1999/xhtml" class="confbox programlisting scroll-unprocessed">
<div class="defaultnew syntaxhighlighter">
<div class="line"><code class="string">"#burnstowndam"</code><code class="plain">: { </code></div>
<div class="line"><code class="plain"> </code><code class="keyword">font</code><code class="plain">: {</code></div>
<div class="line"><code class="plain">      fontFamily: </code><code class="string">'burnstown_dam'</code></div>
<div class="line"><code class="plain">  }</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
</div> <p>
The PostScript name for Burnstown Dam is <strong class=" ">BurnstownDam-Regular</strong>, so for an iOS application you assign that value to <tt class=" ">fontFamily</tt>:    </p>
<div xmlns="http://www.w3.org/1999/xhtml" class="confbox programlisting scroll-unprocessed">
<div class="defaultnew syntaxhighlighter">
<div class="line"><code class="string">"#burnstowndam"</code><code class="plain">: { </code></div>
<div class="line"><code class="plain"> </code><code class="keyword">font</code><code class="plain">: {</code></div>
<div class="line"><code class="plain">      fontFamily: </code><code class="string">'BurnstownDam-Regular'</code></div>
<div class="line"><code class="plain">  }</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
</div> <div class="section section-3 " id="29004935_CustomFonts-RenamefontfiletomatchPostScriptname">
<h3 class="heading "><span>Rename font file to match PostScript name</span></h3>
<p>
One way to handle cross-platform font differences easier is to rename the base name of the font file to match the font's PostScript name. You can then use that same value for <tt class=" ">fontFamily</tt> for both iOS and Android. To apply this to the previous example, rename &quot;burnstown_dam.otf&quot; to <strong class=" ">BurnstownDam-Regular.otf</strong> (the PostScript name). Then you can use a single style rule for both platforms.    </p>
<div xmlns="http://www.w3.org/1999/xhtml" class="confbox programlisting scroll-unprocessed">
<div class="title">Font file renamed to match PostScript name</div>
<div class="defaultnew syntaxhighlighter">
<div class="line"><code class="string">"#burnstowndam"</code><code class="plain">: { </code></div>
<div class="line"><code class="plain"> </code><code class="keyword">font</code><code class="plain">: {</code></div>
<div class="line"><code class="plain">  		fontFamily: </code><code class="string">'BurnstownDam-Regular'</code></div>
<div class="line"><code class="plain">	}</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
</div> <p>
This is the approach taken in the <a class="attachment-link " href="attachments_37685705_2_Custom_Fonts.zip" attachments_37685705_2_Custom_Fonts.zip="attachments_37685705_2_Custom_Fonts.zip">CustomFonts</a> sample application.    </p>
</div>
<div class="section section-3 " id="29004935_CustomFonts-Usingplatform-specificstyles">
<h3 class="heading "><span>Using platform-specific styles</span></h3>
<p>
You can also use platform-specific styles in your TSS file (see  <a class="document-link " href="#!/guide/Alloy_Styles_and_Themes-section-35621526_AlloyStylesandThemes-Platform-SpecificStyles" Alloy_Styles_and_Themes.html#35621526_AlloyStylesandThemes-Platform-SpecificStyles="Alloy_Styles_and_Themes.html#35621526_AlloyStylesandThemes-Platform-SpecificStyles">Alloy Styles and Themes</a> ) to assign the proper <tt class=" ">fontFamily</tt> name. At build time, only those settings appropriate to your target platform are included in the build.    </p>
<div xmlns="http://www.w3.org/1999/xhtml" class="confbox programlisting scroll-unprocessed">
<div class="title">Platform-specific font styling</div>
<div class="defaultnew syntaxhighlighter">
<div class="line"><code class="string">"#burnstowndam[platform=ios]"</code><code class="plain">: {</code></div>
<div class="line"><code class="plain"> </code><code class="keyword">font</code><code class="plain">: {</code></div>
<div class="line"><code class="plain">    fontFamily: </code><code class="string">"BurnstownDam-Regular"</code></div>
<div class="line"><code class="plain">  }</code></div>
<div class="line"><code class="plain">},</code></div>
<div class="line"><code class="string">"#burnstowndam[platform=android]"</code><code class="plain">: {</code></div>
<div class="line"><code class="plain"> </code><code class="keyword">font</code><code class="plain">: {</code></div>
<div class="line"><code class="plain">    fontFamily: </code><code class="string">"burnstown_dam"</code></div>
<div class="line"><code class="plain">  }</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
</div> </div>
<div class="section section-3 " id="29004935_CustomFonts-Findingafont'sPostScriptname">
<h3 class="heading "><span>Finding a font's PostScript name</span></h3>
<p>
iOS applications expect the font's PostScript name, while Android expect the font's base file name. If you rename the font file's to match its PostScript name, you can use the same value on both platforms when assigning a font. On Mac, you can find a font's PostScript name using the <a class="external-link external-link" href="http://support.apple.com/kb/ht2509" target="_blank">FontBook</a> application provided with OS X.    </p>
<p>
<strong class=" ">To find a font's PostScript name on OS X</strong>:    </p>
<ol class=" "><li class=" "> <p>
Open FontBook.    </p>
</li><li class=" "> <p>
Select the desired font from the list.    </p>
</li><li class=" "> <p>
Press Cmd+I to view the <strong class=" ">PostScript name</strong> for the font.    </p>
<img src="images/download/attachments/29004935/postscript-name.png" alt="images/download/attachments/29004935/postscript-name.png" class="confluence-embedded-image" />
</li></ol> <p>
A font's PostScript name is often the same as its &quot;friendly name&quot; but not always, especially with font variants (italic, bold, etc.).    </p>
</div>
</div>
<div class="section section-2 " id="29004935_CustomFonts-Usingacustomfont(Classicapplication)">
<h2 class="heading "><span>Using a custom font (Classic application)</span></h2>
<p>
Using a custom font in a classic Titanium application requires adding some runtime platform-switching code to apply the right . Once you've identified the font to use, follow these steps:    </p>
<p>
<strong class=" ">Using a custom font in a classic application</strong>:    </p>
<ol class=" "><li class=" "> <p>
Copy the font file to your project's <strong class=" ">Resources/fonts/</strong> directory. To use different fonts on iOS and Android, copy the font files to <tt class=" ">Resources/iphone/fonts</tt> and <tt class=" ">Resources/android/fonts</tt>.    </p>
</li><li class=" "> <p>
The code you use varies a bit by platform, as illustrated in the following code sample:    </p>
<div xmlns="http://www.w3.org/1999/xhtml" class="confbox programlisting scroll-unprocessed">
<div class="defaultnew syntaxhighlighter">
<div class="line"><code class="comments">/*</code></div>
<div class="line"><code class="comments">* Let's say you downloaded the "Spicy Rice" font from Google WebFonts.</code></div>
<div class="line"><code class="comments">* You'd have a file named SpicyRice-Regular.ttf in your fonts directory</code></div>
<div class="line"><code class="comments">*/</code></div>
<div class="line"><code class="plain">var customFont = </code><code class="string">'Spicy Rice'</code><code class="plain">; </code><code class="comments">// use the friendly-name on iOS</code></div>
<div class="line"><code class="keyword">if</code><code class="plain">(Ti.Platform.osname==</code><code class="string">'android'</code><code class="plain">) {</code></div>
<div class="line"><code class="plain"> </code><code class="comments">// on Android, use the "base name" of the file (name without extension)</code></div>
<div class="line"><code class="plain">   customFont = </code><code class="string">'SpicyRice-Regular'</code><code class="plain">;</code></div>
<div class="line"><code class="plain">} </code></div>
<div class="line"><code class="plain">var label1 = Titanium.UI.createLabel({</code></div>
<div class="line"><code class="plain">   color:</code><code class="string">'#000'</code><code class="plain">,</code></div>
<div class="line"><code class="plain">   text:</code><code class="string">'I am Window 1'</code><code class="plain">,</code></div>
<div class="line"><code class="plain">   font:{</code></div>
<div class="line"><code class="plain">      fontSize:</code><code class="value">40</code><code class="plain">,</code></div>
<div class="line"><code class="plain">      fontFamily: customFont</code></div>
<div class="line"><code class="plain">   },</code></div>
<div class="line"><code class="plain">   textAlign:</code><code class="string">'center'</code></div>
<div class="line"><code class="plain">});</code></div>
</div>
</div></li><li class=" "> <p>
On Android, build your project and the custom font should show up.    </p>
</li></ol> <div class="section section-3 " id="29004935_CustomFonts-iOSplatformnotes">
<h3 class="heading "><span>iOS platform notes</span></h3>
<p>
For iOS builds, all fonts located in the  <tt class=" ">Resources/fonts</tt>  folder are automatically added to the application's  <tt class=" ">info.plist</tt>  file. Custom fonts that you're using only on Android (or other platform) should not should be placed in this folder so they aren't added to the <tt class=" ">info.plist</tt> of iOS builds. Those fonts should instead be placed in the platform-specific resource subfolder (<tt class=" ">Resources/android/fonts</tt>, for example).    </p>
</div>
<div class="section section-3 " id="29004935_CustomFonts-Platform-switchingsugar">
<h3 class="heading "><span>Platform-switching sugar</span></h3>
<p>
Building in those if/then statements can make for some hard to read and maintain code. So, here's a little trick pulled from Kevin Whinnery's Tweetanium app. First, include the following function in your app (maybe in your library of helper functions):    </p>
<div xmlns="http://www.w3.org/1999/xhtml" class="confbox programlisting scroll-unprocessed">
<div class="defaultnew syntaxhighlighter">
<div class="line"><code class="comments">/*</code></div>
<div class="line"><code class="comments">	Branching logic based on OS</code></div>
<div class="line"><code class="comments">*/</code></div>
<div class="line"><code class="plain">var osname = Ti.Platform.osname;</code></div>
<div class="line"><code class="plain">var os = function(</code><code class="comments">/*Object*/</code><code class="plain"> map) {</code></div>
<div class="line"><code class="plain">	var def = map.def||</code><code class="keyword">null</code><code class="plain">; </code><code class="comments">//default function or value</code></div>
<div class="line"><code class="plain"> </code><code class="keyword">if</code><code class="plain"> (map[osname]) {</code></div>
<div class="line"><code class="plain"> </code><code class="keyword">if</code><code class="plain"> (typeof map[osname] == </code><code class="string">'function'</code><code class="plain">) { </code><code class="keyword">return</code><code class="plain"> map[osname](); }</code></div>
<div class="line"><code class="plain"> </code><code class="keyword">else</code><code class="plain"> { </code><code class="keyword">return</code><code class="plain"> map[osname]; }</code></div>
<div class="line"><code class="plain">	}</code></div>
<div class="line"><code class="plain"> </code><code class="keyword">else</code><code class="plain"> {</code></div>
<div class="line"><code class="plain"> </code><code class="keyword">if</code><code class="plain"> (typeof def == </code><code class="string">'function'</code><code class="plain">) { </code><code class="keyword">return</code><code class="plain"> def(); }</code></div>
<div class="line"><code class="plain"> </code><code class="keyword">else</code><code class="plain"> { </code><code class="keyword">return</code><code class="plain"> def; }</code></div>
<div class="line"><code class="plain">	}</code></div>
<div class="line"><code class="plain">};</code></div>
</div>
</div> <p>
With that in place, you can now put the platform-dependent values right in line with the property assignment. Like this:    </p>
<div xmlns="http://www.w3.org/1999/xhtml" class="confbox programlisting scroll-unprocessed">
<div class="defaultnew syntaxhighlighter">
<div class="line"><code class="plain">var label1 = Titanium.UI.createLabel({</code></div>
<div class="line"><code class="plain">	color:</code><code class="string">'#000'</code><code class="plain">,</code></div>
<div class="line"><code class="plain">	text:</code><code class="string">'I am Window 1'</code><code class="plain">,</code></div>
<div class="line"><code class="plain">	font:{</code></div>
<div class="line"><code class="plain">		fontSize:</code><code class="value">40</code><code class="plain">,</code></div>
<div class="line"><code class="plain">		fontFamily: os({</code></div>
<div class="line"><code class="plain">			iphone:</code><code class="string">'Spicy Rice'</code><code class="plain">,</code></div>
<div class="line"><code class="plain">			ipad: </code><code class="string">'Spicy Rice'</code><code class="plain">,</code></div>
<div class="line"><code class="plain">			ipod: </code><code class="string">'Spicy Rice'</code><code class="plain">,</code></div>
<div class="line"><code class="plain">			android:</code><code class="string">'SpicyRice-Regular'</code></div>
<div class="line"><code class="plain">		})</code></div>
<div class="line"><code class="plain">	},</code></div>
<div class="line"><code class="plain">	textAlign:</code><code class="string">'center'</code></div>
<div class="line"><code class="plain">});</code></div>
</div>
</div> <p>
The <tt class=" ">os()</tt> function will take the values you provide for each of the platforms, and return the correct one for the OS on which your code is running. You can use any of the values returned by <tt class=" ">Ti.Platform.osname</tt> as keys for that function's single argument, as shown above.    </p>
</div>
</div>
<div class="section section-2 " id="29004935_CustomFonts-Sampleapplication">
<h2 class="heading "><span>Sample application</span></h2>
<p>
<a class="attachment-link " href="attachments_37685705_2_Custom_Fonts.zip" attachments_37685705_2_Custom_Fonts.zip="attachments_37685705_2_Custom_Fonts.zip">CustomFonts</a> demonstrates using custom fonts in an Alloy application that works on both iOS and Android.    </p>
</div>
<div class="section section-2 " id="29004935_CustomFonts-Resources">
<h2 class="heading "><span>Resources</span></h2>
<p>
You might also want to check out the fonts built into the system before you go installing a custom font. Of course, support varies by OS version and in the case of Android, probably by handset maker and carrier. Here are some links to get you started:    </p>
<ul class=" "><li class=" "> <p>
<a class="external-link external-link" href="http://jomnius.blogspot.com/2011/10/new-fonts-in-ios-50-and-some-missing.html" target="_blank">iOS system fonts</a> </p>
</li><li class=" "> <p>
<a class="external-link external-link" href="http://iosfonts.com/" target="_blank">iOSfonts.com</a> </p>
</li><li class=" "> <p>
<a class="external-link external-link" href="https://github.com/android/platform_frameworks_base/tree/master/data/fonts" target="_blank">Android fonts</a> - GitHub repo for current version of Android, older versions won't support all of these    </p>
</li></ul> </div>
</div>
<div class="footer">
            Created with <a href="http://k15t.com/display/web/Scroll-Wiki-EclipseHelp-Exporter-for-Confluence" target="_blank">Scroll EclipseHelp Exporter for Confluence</a>.
        </div>
</div>
</body>
</html>
