<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>iOS UI Components and Conventions</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta content="Scroll EclipseHelp Exporter" name="generator" />
<link type="text/css" rel="stylesheet" />
<link type="text/css" rel="stylesheet" />
<link type="text/css" rel="stylesheet" media="print" />
</head>
<body>
<div class="container">
<div class="header"></div>
<div id="29004928" class="content"><a id="editButton" href="https://wiki.appcelerator.org/pages/editpage.action?pageId=29004928"><span>Edit</span></a>
<h1>iOS UI Components and Conventions</h1>
<div class="section section-2 " id="29004928_iOSUIComponentsandConventions-Objective">
<h2 class="heading "><span>Objective</span></h2>
<p>
In this section, you will learn some of the user interface and user experience components that are specific to iOS.    </p>
</div>
<div class="section section-2 " id="29004928_iOSUIComponentsandConventions-Contents">
<h2 class="heading "><span>Contents</span></h2>
<p>
We've already covered many of the iOS UI conventions in the <a class="document-link " href="#!/guide/iOS_Platform_Overview" iOS_Platform_Overview.html="iOS_Platform_Overview.html">iOS Platform Overview</a> chapter. In this section, we'll dig just a bit deeper into some iOS specifics. These include iPad-only UI controls, app badges, and integration with the platform's Settings app.    </p>
<div class="section section-3 " id="29004928_iOSUIComponentsandConventions-iPad-onlyUIAPIs">
<h3 class="heading "><span>iPad-only UI APIs</span></h3>
<p>
The iPad includes two UI components that are not available with the iPhone. These are the <a class="external-link external-link" href="#!/api/Titanium.UI.iPad.Popover">Popover</a> and <a class="external-link external-link" href="#!/api/Titanium.UI.iPad.SplitWindow">SplitWindow</a>.    </p>
<div class="section section-4 " id="29004928_iOSUIComponentsandConventions-Popovers">
<h4 class="heading "><span>Popovers</span></h4>
<p>
You use popovers to present information temporarily, but in a way that does not take over the entire screen like a modal view does. The popover content is layered on top of your existing content in a special window. The popover remains visible until the user taps outside of the popover window or explicitly dismisses it. The Popover is created by the method <tt class=" ">Titanium.UI.iPad.createPopover()</tt>.    </p>
<p>
<img src="images/download/attachments/29004928/ipadpopover.png" alt="images/download/attachments/29004928/ipadpopover.png" class="confluence-embedded-image" />
</p>
<p>
Popovers provide a way for you to display additional information associated with a particular UI component. This is shown in the picture above, in which event repetition options are shown as a row in a table. Within the popover, you can display a view or other component.    </p>
<div xmlns="http://www.w3.org/1999/xhtml" class="confbox programlisting scroll-unprocessed">
<div class="defaultnew syntaxhighlighter">
<div class="line"><code class="plain">var button = Ti.UI.createButton({</code></div>
<div class="line"><code class="plain">	title:</code><code class="string">'Show popover'</code><code class="plain">,</code></div>
<div class="line"><code class="plain">	width:</code><code class="value">250</code><code class="plain">,</code></div>
<div class="line"><code class="plain">	height:</code><code class="value">50</code><code class="plain">,</code></div>
<div class="line"><code class="plain">	top:</code><code class="value">30</code><code class="plain">,</code></div>
<div class="line"><code class="plain">	right:</code><code class="value">5</code></div>
<div class="line"><code class="plain">});</code></div>
<div class="line"><code class="plain">var popover = Ti.UI.iPad.createPopover({</code></div>
<div class="line"><code class="plain">	width:</code><code class="value">300</code><code class="plain">,</code></div>
<div class="line"><code class="plain">	height:</code><code class="value">250</code><code class="plain">,</code></div>
<div class="line"><code class="plain">	title:</code><code class="string">'I\'m a Popover'</code><code class="plain">,</code></div>
<div class="line"><code class="plain">		arrowDirection:Ti.UI.iPad.POPOVER_ARROW_DIRECTION_RIGHT</code></div>
<div class="line"><code class="plain">});</code></div>
<div class="line"><code class="plain">button.addEventListener(</code><code class="string">'click'</code><code class="plain">, function(e) {</code></div>
<div class="line"><code class="plain">	popover.show({</code></div>
<div class="line"><code class="plain">		view:button,</code></div>
<div class="line"><code class="plain">		animated:</code><code class="keyword">true</code></div>
<div class="line"><code class="plain">	});</code></div>
<div class="line"><code class="plain">});</code></div>
<div class="line"><code class="plain">win.add(button);</code></div>
</div>
</div> <p>
In the preceding code, line 16 creates the association between the button and the popover. It's this line that controls the placement of the popover. It will be placed automatically by iOS according to this association and the arrow direction. In this example, the arrow points to the right, which means the popover will be displayed to the left of the button. If you used POPOVER_ARROW_DIRECTION_UP, the popover would be shown below the button.    </p>
</div>
<div class="section section-4 " id="29004928_iOSUIComponentsandConventions-SplitWindows">
<h4 class="heading "><span>SplitWindows</span></h4>
<p>
A SplitWindow is a window that manages the presentation of two side-by-side view controllers. You use this class to implement a master-detail interface, in which the left-side view presents a list of items and the right-side presents details of the selected item. The SplitView is for use exclusively on iPad devices. The SplitWindow is created by the method <tt class=" ">Titanium.UI.iPad.createSplitWindow()</tt>.    </p>
<p>
<img src="images/download/attachments/29004928/ipad_splitwindow.png" alt="images/download/attachments/29004928/ipad_splitwindow.png" class="confluence-embedded-image" />
</p>
<p>
You cannot control the width of either of the view controllers, and the user cannot resize those &quot;panes.&quot; A SplitWindow is a top-level container, which means you don't add it to a Ti.UI.Window. The SplitWindow inherits from the Window object.    </p>
<div xmlns="http://www.w3.org/1999/xhtml" class="confbox programlisting scroll-unprocessed">
<div class="defaultnew syntaxhighlighter">
<div class="line"><code class="comments">// Window shown in narrower, left "pane"</code></div>
<div class="line"><code class="plain">var masterWin = Ti.UI.createWindow({</code></div>
<div class="line"><code class="plain">	backgroundColor:</code><code class="string">'#fff'</code></div>
<div class="line"><code class="plain">});</code></div>
<div class="line"><code class="plain">masterWin.add(Ti.UI.createLabel({</code></div>
<div class="line"><code class="plain">	text:</code><code class="string">'Master View'</code><code class="plain">,</code></div>
<div class="line"><code class="plain">	top:</code><code class="value">10</code><code class="plain">,</code></div>
<div class="line"><code class="plain">	height:</code><code class="string">'Ti.UI.SIZE'</code><code class="plain">,</code></div>
<div class="line"><code class="plain">	font:{</code></div>
<div class="line"><code class="plain">		textAlign:</code><code class="string">'center'</code><code class="plain">,</code></div>
<div class="line"><code class="plain">		fontWeight:</code><code class="string">'bold'</code></div>
<div class="line"><code class="plain">	}</code></div>
<div class="line"><code class="plain">}));</code></div>
<div class="line"><code class="comments">// Window shown in wider, right "pane"</code></div>
<div class="line"><code class="plain">var detailWin = Ti.UI.createWindow({</code></div>
<div class="line"><code class="plain">	backgroundColor:</code><code class="string">'#dfdfdf'</code></div>
<div class="line"><code class="plain">});</code></div>
<div class="line"><code class="plain">detailWin.add(Ti.UI.createLabel({</code></div>
<div class="line"><code class="plain">	text:</code><code class="string">'Detail View'</code><code class="plain">,</code></div>
<div class="line"><code class="plain">	top:</code><code class="value">10</code><code class="plain">,</code></div>
<div class="line"><code class="plain">	height:</code><code class="string">'Ti.UI.SIZE'</code><code class="plain">,</code></div>
<div class="line"><code class="plain">	font:{</code></div>
<div class="line"><code class="plain">		textAlign:</code><code class="string">'center'</code><code class="plain">,</code></div>
<div class="line"><code class="plain">		fontWeight:</code><code class="string">'bold'</code></div>
<div class="line"><code class="plain">	}</code></div>
<div class="line"><code class="plain">}));</code></div>
<div class="line"><code class="comments">// the split window</code></div>
<div class="line"><code class="plain">var splitwin = Ti.UI.iPad.createSplitWindow({</code></div>
<div class="line"><code class="plain">    detailView:detailWin,</code></div>
<div class="line"><code class="plain">    masterView:masterWin,</code></div>
<div class="line"><code class="plain">    orientationModes:[ Titanium.UI.LANDSCAPE_LEFT,Titanium.UI.LANDSCAPE_RIGHT ]</code></div>
<div class="line"><code class="plain">});</code></div>
<div class="line"><code class="plain">splitwin.open();</code></div>
</div>
</div> </div>
</div>
<div class="section section-3 " id="29004928_iOSUIComponentsandConventions-Badges">
<h3 class="heading "><span>Badges</span></h3>
<p>
<img src="images/download/attachments/29004928/app_badge.png" alt="images/download/attachments/29004928/app_badge.png" class="confluence-embedded-image" />
</p>
<p>
<img src="images/download/attachments/29004928/tab_badge.png" alt="images/download/attachments/29004928/tab_badge.png" class="confluence-embedded-image confluence-content-image-border" />
</p>
<p>
Tab and app badges are indicators of updates, new messages, and so forth. You can apply these badges, with a numeric value, to your app and to tabs within your app. Doing so is quite simple. For tabs, simply set the <tt class=" ">yourTab.badge</tt> property equal to some number to show the tab badge icon. For your app, set the <tt class=" ">Ti.UI.iPhone.appBadge</tt> property equal to a number to show the app badge icon. You might do so when your app initializes or shuts down. You could also use a <a class="external-link external-link" href="#!/api/Titanium.App.iOS.BackgroundService">background service</a> to set your app's badge as needed.    </p>
<p>
To remove either a tab or app badge, set the corresponding property to <tt class=" ">null</tt>. Setting it to 0 would still display the badge, but with the number zero displayed.    </p>
<div xmlns="http://www.w3.org/1999/xhtml" class="confbox programlisting scroll-unprocessed">
<div class="defaultnew syntaxhighlighter">
<div class="line"><code class="comments">// Sets the app's icon badge to 23</code></div>
<div class="line"><code class="plain">Ti.UI.iPhone.appBadge = </code><code class="value">23</code><code class="plain">;</code></div>
<div class="line"><code class="plain">var tabGroup = Titanium.UI.createTabGroup();</code></div>
<div class="line"><code class="plain">var win1 = Titanium.UI.createWindow({</code></div>
<div class="line"><code class="plain">    title:</code><code class="string">'Window 1'</code><code class="plain">,</code></div>
<div class="line"><code class="plain">    backgroundColor:</code><code class="string">'#fff'</code></div>
<div class="line"><code class="plain">});</code></div>
<div class="line"><code class="comments">// Set the badge for this tab to 10</code></div>
<div class="line"><code class="plain">var tab1 = Titanium.UI.createTab({</code></div>
<div class="line"><code class="plain">    icon:</code><code class="string">'KS_nav_views.png'</code><code class="plain">,</code></div>
<div class="line"><code class="plain">    title:</code><code class="string">'Tab 1'</code><code class="plain">,</code></div>
<div class="line"><code class="plain">    window:win1,</code></div>
<div class="line"><code class="plain">    badge:</code><code class="value">10</code></div>
<div class="line"><code class="plain">});</code></div>
</div>
</div> </div>
<div class="section section-3 " id="29004928_iOSUIComponentsandConventions-Settingsintegration">
<h3 class="heading "><span>Settings integration</span></h3>
<p>
Apple's guidelines specify that app settings should be configurable through the native Settings app rather than through in-app controls. Apple's own apps generally follow this recommendation. For example, you configure Safari's options via Settings rather than within the app. Titanium provides a mechanism for configuration options via the Settings app via a native module.    </p>
<p>
<img src="images/download/attachments/29004928/settings_bundle.png" alt="images/download/attachments/29004928/settings_bundle.png" class="confluence-embedded-image" width="300" />
</p>
<p>
With 1.8, the location of the Settings.bundle was changed. Platform-specific resources are supposed to be in the platform-specific directories. That was not the case before, but that's fixed now.    </p>
<p>
If you're running SDK 1.8+    </p>
<ol class=" "><li class=" "> <p>
Download a recent copy of the <a class="external-link external-link" href="https://github.com/appcelerator/KitchenSink" target="_blank">KitchenSink app</a> </p>
</li><li class=" "> <p>
Copy <strong class=" ">Settings.bundle</strong> from <strong class=" ">platform/iphone</strong> folder to your project's <strong class=" ">Resources/platform/iphone</strong> directory (you might need to create those directories).    </p>
</li><li class=" "> <p>
In Studio, expand platform/iphone/Settings.bundle and double-click Root.plist to open the Xcode Property List editor.    </p>
</li><li class=" "> <p>
Edit the settings, as described below.    </p>
</li><li class=" "> <p>
Clean your project, then build for either the Simulator or device.    </p>
</li></ol> <p>
If you're running SDK &lt;1.8    </p>
<ol class=" "><li class=" "> <p>
Download a copy of the <a class="external-link external-link" href="https://github.com/appcelerator/KitchenSink" target="_blank">KitchenSink app</a> </p>
</li><li class=" "> <p>
Copy <strong class=" ">Settings.bundle</strong> from <strong class=" ">modules/iphone</strong> folder to your project's <strong class=" ">Resources/modules/iphone</strong> directory (you might need to create those directories).    </p>
</li><li class=" "> <p>
In Studio, expand modules/iphone/Settings.bundle and double-click Root.plist to open the Xcode Property List editor.    </p>
</li><li class=" "> <p>
Edit the settings, as described below.    </p>
</li><li class=" "> <p>
Clean your project, then build for either the Simulator or device.    </p>
</li></ol> <p>
In the Xcode Property List editor, you'll see the app's name defined in Item 0. The three preferences defined by KitchenSink appear under Items 1, 2, and 3. You can modify these to suit your needs or add new properties items following the pattern set out in these items.    </p>
<p>
In your app, you can access the values of these app preferences by using Titanium's <tt class=" ">App Properties module</tt> with one minor tweak. The name of the app property you retrieve must match the value you set in the Identifier field in the Property List editor. You'll note that all the KitchenSink examples include the &quot;_preference&quot; suffix, which you should also include with your identifiers.    </p>
<div xmlns="http://www.w3.org/1999/xhtml" class="confbox programlisting scroll-unprocessed">
<div class="defaultnew syntaxhighlighter">
<div class="line"><code class="plain">Ti.API.info(Ti.App.Properties.getString(</code><code class="string">'name_preference'</code><code class="plain">)); </code><code class="comments">// logs the name pref value from KitchenSink example</code></div>
</div>
</div> </div>
<div class="section section-3 " id="29004928_iOSUIComponentsandConventions-Hands-onPractice">
<h3 class="heading "><span>Hands-on Practice</span></h3>
<div class="section section-4 " id="29004928_iOSUIComponentsandConventions-Goal">
<h4 class="heading "><span>Goal</span></h4>
<p>
In this activity, you will enable Settings-integration for a simple iOS app and use the preferences configured by the user within the app.    </p>
</div>
<div class="section section-4 " id="29004928_iOSUIComponentsandConventions-Resources">
<h4 class="heading "><span>Resources</span></h4>
<p>
To complete this activity, you will need an Intel-based Mac with the iOS development tools (Xcode) installed.    </p>
</div>
<div class="section section-4 " id="29004928_iOSUIComponentsandConventions-Steps">
<h4 class="heading "><span>Steps</span></h4>
<ol class=" "><li class=" "> <p>
Create a new Titanium Mobile project named AppSettings that targets the iPhone and iPad.    </p>
</li><li class=" "> <p>
If you have not done so already, download a copy of the KitchenSink project from <a class="external-link external-link" href="https://github.com/appcelerator/KitchenSink" target="_blank">https://github.com/appcelerator/KitchenSink</a>. Copy the modules folder to your project's directory.    </p>
</li><li class=" "> <p>
In Studio, expand modules/iphone/Settings.bundle and double-click Root.plist    </p>
</li><li class=" "> <p>
Edit the name of the app in the plist file to match your app's name. You can leave the other settings options as-is. Save your changes and close Xcode.    </p>
</li><li class=" "> <p>
Change <tt class=" ">label1</tt> to display the name the user enters in the Settings app for the Name preference. If no value is set, display the text &quot;Set Name in Settings&quot; in the label.    </p>
</li><li class=" "> <p>
If the &quot;Enabled&quot; switch is set to Yes (on) , display an ImageView that contains the KS_nav_ui.png graphic. If it's set to No (off) , don't display the image. You can use the <tt class=" ">Ti.App.Properties.getBool()</tt> method for this purpose.    </p>
</li><li class=" "> <p>
Build and test your app. After it's installed and run the first time, open the Settings app and configure your name and Enabled value.    </p>
</li><li class=" "> <p>
Because the app remains running (iOS doesn't fully close an app when you return to the Springboard), you'll need to close and relaunch the simulator or use the Fast App Switcher to kill the app. If using the simulator launched by Studio, using the Fast App Switcher might crash the simulator.    </p>
<ol class=" "><li class=" "> <p>
Close the AppSettings app, if necessary    </p>
</li><li class=" "> <p>
Double-click the Home button to display the Fast App Switcher tray.    </p>
</li><li class=" "> <p>
Press and hold on the AppSetting icon in the tray until it begins to shake. Tap its red minus-sign button to kill the app.    </p>
</li><li class=" "> <p>
Press Home to leave &quot;edit mode&quot; then press Home again to return to the Springboard.    </p>
</li><li class=" "> <p>
You can now re-open the app to see the new settings in place.    </p>
</li></ol></li></ol> </div>
</div>
<div class="section section-3 " id="29004928_iOSUIComponentsandConventions-ReferencesandFurtherReading">
<h3 class="heading "><span>References and Further Reading</span></h3>
<ul class=" "><li class=" "> <p>
<a class="external-link external-link" href="http://assets.appcelerator.com.s3.amazonaws.com/app_u/ebook/AppSettings.zip" target="_blank">Finished code</a> </p>
</li><li class=" "> <p>
Apple's <a class="external-link external-link" href="http://developer.apple.com/iphone/library/documentation/General/Conceptual/iPadHIG/Introduction/Introduction.html" target="_blank">iPad Human Interface Guidelines</a> </p>
</li><li class=" "> <p>
<a class="external-link external-link" href="http://developer.apple.com/library/ios/#documentation%2FCocoa%2FConceptual%2FPropertyLists%2FIntroduction%2FIntroduction.html" target="_blank">Apple's Introduction to Property Lists</a> </p>
</li><li class=" "> <p>
<a class="external-link external-link" href="http://developer.apple.com/library/ios/#samplecode%2FAppPrefs%2FIntroduction%2FIntro.html" target="_blank">Sample code for create app preferences</a> (Settings)    </p>
</li></ul> </div>
</div>
<div class="section section-2 " id="29004928_iOSUIComponentsandConventions-Summary">
<h2 class="heading "><span>Summary</span></h2>
<p>
In this chapter, you learned that iOS offers a handful of UI components that are not available on other platforms. You learned how to implement iPad-specific controls and how to create and save app preferences in the Settings app.    </p>
</div>
</div>
<div class="footer">
            Created with <a href="http://k15t.com/display/web/Scroll-Wiki-EclipseHelp-Exporter-for-Confluence" target="_blank">Scroll EclipseHelp Exporter for Confluence</a>.
        </div>
</div>
</body>
</html>
