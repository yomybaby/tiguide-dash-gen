<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Print Editor Properties</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta content="Scroll EclipseHelp Exporter" name="generator" />
<link type="text/css" rel="stylesheet" />
<link type="text/css" rel="stylesheet" />
<link type="text/css" rel="stylesheet" media="print" />
</head>
<body>
<div class="container">
<div class="header"></div>
<div id="30083228" class="content"><a id="editButton" href="https://wiki.appcelerator.org/pages/editpage.action?pageId=30083228"><span>Edit</span></a>
<h1>Print Editor Properties</h1>
<div class="section section-2 " id="30083228_PrintEditorProperties-Contents">
<h2 class="heading "><span>Contents</span></h2>
<ul class="toc-indentation "><li class=" "> <p>
<a class="document-link " href="#!/guide/Print_Editor_Properties-section-30083228_PrintEditorProperties-Overview" Print_Editor_Properties.html#30083228_PrintEditorProperties-Overview="Print_Editor_Properties.html#30083228_PrintEditorProperties-Overview">Overview</a> </p>
</li><li class=" "> <p>
<a class="document-link " href="#!/guide/Print_Editor_Properties-section-30083228_PrintEditorProperties-TheCode" Print_Editor_Properties.html#30083228_PrintEditorProperties-TheCode="Print_Editor_Properties.html#30083228_PrintEditorProperties-TheCode">The Code</a> </p>
</li><li class=" "> <p>
<a class="document-link " href="#!/guide/Print_Editor_Properties-section-30083228_PrintEditorProperties-Example" Print_Editor_Properties.html#30083228_PrintEditorProperties-Example="Print_Editor_Properties.html#30083228_PrintEditorProperties-Example">Example</a> </p>
</li></ul> </div>
<div class="section section-2 " id="30083228_PrintEditorProperties-Overview">
<h2 class="heading "><span>Overview</span></h2>
<p>
In this recipe we show how to create a simple Ruble command that prints out the properties of the current editor    </p>
</div>
<div class="section section-2 " id="30083228_PrintEditorProperties-TheCode">
<h2 class="heading "><span>The Code</span></h2>
<p>
In the snippet below, we use the Ruby reflection method to print all the public methods available on the editor property of the context object    </p>
<div xmlns="http://www.w3.org/1999/xhtml" class="confbox programlisting scroll-unprocessed">
<div class="defaultnew syntaxhighlighter">
<div class="line"><code class="plain">require </code><code class="string">'ruble'</code></div>
<div class="line"><code class="plain"> </code></div>
<div class="line"><code class="plain">command </code><code class="string">"Print Editor Properties"</code><code class="plain"> </code><code class="keyword">do</code><code class="plain"> |cmd|</code></div>
<div class="line"><code class="plain">  cmd.output = :insert_as_text</code></div>
<div class="line"><code class="plain">  cmd.invoke </code><code class="keyword">do</code><code class="plain"> |context|</code></div>
<div class="line"><code class="plain">    CONSOLE.puts context.editor.public_methods(</code><code class="keyword">true</code><code class="plain">).sort</code></div>
<div class="line"><code class="plain">  end</code></div>
<div class="line"><code class="plain">end</code></div>
</div>
</div> </div>
<div class="section section-2 " id="30083228_PrintEditorProperties-Example">
<h2 class="heading "><span>Example</span></h2>
<p>
As an example of the above properties, you can try the following. In a blank CSS file, add the following content:    </p>
<div xmlns="http://www.w3.org/1999/xhtml" class="confbox programlisting scroll-unprocessed">
<div class="defaultnew syntaxhighlighter">
<div class="line"><code class="plain">body {</code></div>
<div class="line"><code class="plain">	background: #</code><code class="value">000</code><code class="plain">;</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
</div> <p>
Select text &quot;background&quot;, with the caret after the &quot;d&quot;    </p>
<div xmlns="http://www.w3.org/1999/xhtml" class="confbox programlisting scroll-unprocessed">
<div class="defaultnew syntaxhighlighter">
<div class="line"><code class="plain">require </code><code class="string">'ruble'</code></div>
<div class="line"><code class="plain">command </code><code class="string">"Print Editor Properties"</code><code class="plain"> </code><code class="keyword">do</code><code class="plain"> |cmd|</code></div>
<div class="line"><code class="plain">  cmd.invoke </code><code class="keyword">do</code><code class="plain"> |context|</code></div>
<div class="line"><code class="plain">    r = </code><code class="string">"\nEditor properties:\n"</code><code class="plain"> </code></div>
<div class="line"><code class="plain">    r &lt;&lt; </code><code class="string">"editor.caret_column                                               #{context.editor.caret_column}\n"</code><code class="plain"> </code></div>
<div class="line"><code class="plain">    r &lt;&lt; </code><code class="string">"editor.caret_line                                                 #{context.editor.caret_line}\n"</code><code class="plain"> </code></div>
<div class="line"><code class="plain">    r &lt;&lt; </code><code class="string">"editor.caret_offset                                               #{context.editor.caret_offset}\n"</code></div>
<div class="line"><code class="plain">    r &lt;&lt; </code><code class="string">"editor.current_line                                               '#{context.editor.current_line}'\n"</code><code class="plain"> </code></div>
<div class="line"><code class="plain">    r &lt;&lt; </code><code class="string">"editor.current_line.length                                        #{context.editor.current_line.length }\n"</code></div>
<div class="line"><code class="plain">    r &lt;&lt; </code><code class="string">"editor.current_scope                                              #{context.editor.current_scope}\n"</code></div>
<div class="line"><code class="plain">    r &lt;&lt; </code><code class="string">"editor.dirty?                                                     #{context.editor.dirty?}\n"</code></div>
<div class="line"><code class="plain">    r &lt;&lt; </code><code class="string">"editor.line(caret_line)                                          '#{context.editor.line(context.editor.caret_line)}'\n"</code><code class="plain"> </code></div>
<div class="line"><code class="plain">    r &lt;&lt; </code><code class="string">"editor.offset_at_line(caret_line)                                 #{context.editor.offset_at_line(context.editor.caret_line)}\n"</code></div>
<div class="line"><code class="plain">    r &lt;&lt; </code><code class="string">"editor.line_information(caret_line)                               #{context.editor.line_information(context.editor.caret_line)}\n"</code></div>
<div class="line"><code class="plain">    r &lt;&lt; </code><code class="string">"editor.scope_at_offset(caret_offset)                              #{context.editor.scope_at_offset(context.editor.caret_offset)}\n"</code></div>
<div class="line"><code class="plain">    r &lt;&lt; </code><code class="string">"\n\nDocument properties:\n"</code><code class="plain"> </code></div>
<div class="line"><code class="plain">    r &lt;&lt; </code><code class="string">"editor.document.get                                               '#{context.editor.document.get}'\n"</code></div>
<div class="line"><code class="plain">    r &lt;&lt; </code><code class="string">"editor.document.char(1)                                           #{context.editor.document.char(1)}\n"</code></div>
<div class="line"><code class="plain">    r &lt;&lt; </code><code class="string">"editor.document.content_type(caret_line)                          #{context.editor.document.content_type(context.editor.caret_line)}\n"</code></div>
<div class="line"><code class="plain">    r &lt;&lt; </code><code class="string">"editor.document.get(1, 1)                                         #{context.editor.document.get(1, 1)}\n"</code></div>
<div class="line"><code class="plain">    r &lt;&lt; </code><code class="string">"editor.document.legal_content_types                               #{context.editor.document.legal_content_types.sort.join(',')}\n"</code></div>
<div class="line"><code class="plain">    r &lt;&lt; </code><code class="string">"editor.document.line_delimiter(caret_line)                        #{context.editor.document.line_delimiter(context.editor.caret_line)}\n"</code></div>
<div class="line"><code class="plain">    r &lt;&lt; </code><code class="string">"editor.document.line_length(caret_line)                           #{context.editor.document.line_length(context.editor.caret_line)}\n"</code></div>
<div class="line"><code class="plain">    r &lt;&lt; </code><code class="string">"editor.document.line_of_offset(caret_offset)                      #{context.editor.document.line_of_offset(context.editor.caret_offset)}\n"</code></div>
<div class="line"><code class="plain">    r &lt;&lt; </code><code class="string">"editor.document.line_offset(caret_line)                           #{context.editor.document.line_offset(context.editor.caret_line)}\n"</code></div>
<div class="line"><code class="plain">    r &lt;&lt; </code><code class="string">"editor.document.length                                            #{context.editor.document.length}\n"</code><code class="plain"> </code></div>
<div class="line"><code class="plain">    r &lt;&lt; </code><code class="string">"editor.document.line_information(caret_line)                      #{context.editor.document.line_information(context.editor.caret_line)}\n"</code></div>
<div class="line"><code class="plain">    r &lt;&lt; </code><code class="string">"editor.document.line_information_of_offset(caret_offset)          #{context.editor.document.line_information_of_offset(context.editor.caret_offset)}\n"</code></div>
<div class="line"><code class="plain">    r &lt;&lt; </code><code class="string">"editor.document.number_of_lines                                   #{context.editor.document.number_of_lines}\n"</code></div>
<div class="line"><code class="plain">    r &lt;&lt; </code><code class="string">"editor.document.number_of_lines(0,1)                              #{context.editor.document.number_of_lines(0,1)}\n"</code></div>
<div class="line"><code class="plain">    r &lt;&lt; </code><code class="string">"editor.document.legal_line_delimiters                             #{context.editor.document.legal_line_delimiters.sort.join(',')}\n"</code></div>
<div class="line"><code class="plain">    r &lt;&lt; </code><code class="string">"\n\nSelection properties:\n"</code><code class="plain"> </code></div>
<div class="line"><code class="plain">    r &lt;&lt; </code><code class="string">"editor.selection.offset                                           #{context.editor.selection.offset}\n"</code></div>
<div class="line"><code class="plain">    r &lt;&lt; </code><code class="string">"editor.selection.text                                             #{context.editor.selection.text}\n"</code><code class="plain"> </code></div>
<div class="line"><code class="plain">    r &lt;&lt; </code><code class="string">"editor.selection.start_line                                       #{context.editor.selection.start_line}\n"</code></div>
<div class="line"><code class="plain">    r &lt;&lt; </code><code class="string">"editor.selection.end_line                                         #{context.editor.selection.end_line}\n"</code></div>
<div class="line"><code class="plain">    CONSOLE.puts r    </code></div>
<div class="line"><code class="plain">  end</code></div>
<div class="line"><code class="plain">end</code></div>
</div>
</div> <p>
Results:    </p>
<div xmlns="http://www.w3.org/1999/xhtml" class="confbox programlisting scroll-unprocessed">
<div class="defaultnew syntaxhighlighter">
<div class="line"><code class="plain">Editor properties:</code></div>
<div class="line"><code class="plain">editor.caret_column                                               </code><code class="value">1</code></div>
<div class="line"><code class="plain">editor.caret_line                                                 </code><code class="value">1</code></div>
<div class="line"><code class="plain">editor.caret_offset                                               </code><code class="value">18</code></div>
<div class="line"><code class="plain">editor.current_line                                               </code><code class="string">'	background: #000;'</code></div>
<div class="line"><code class="plain">editor.current_line.length                                        </code><code class="value">18</code></div>
<div class="line"><code class="plain">editor.current_scope                                              source.css meta.property-list.css meta.property-value.css punctuation.separator.key-value.css</code></div>
<div class="line"><code class="plain">editor.dirty?                                                     </code><code class="keyword">true</code></div>
<div class="line"><code class="plain">editor.line(caret_line)                                          </code><code class="string">'	background: #000;'</code></div>
<div class="line"><code class="plain">editor.offset_at_line(caret_line)                                 </code><code class="value">7</code></div>
<div class="line"><code class="plain">editor.line_information(caret_line)                               offset: </code><code class="value">7</code><code class="plain">, length: </code><code class="value">18</code></div>
<div class="line"><code class="plain">editor.scope_at_offset(caret_offset)                              source.css meta.property-list.css meta.property-value.css punctuation.separator.key-value.css</code></div>
<div class="line"><code class="plain">Document properties:</code></div>
<div class="line"><code class="plain">editor.document.get                                               'body {</code></div>
<div class="line"><code class="plain">	background: #</code><code class="value">000</code><code class="plain">;</code></div>
<div class="line"><code class="plain">}</code></div>
<div class="line"><code class="plain">'</code></div>
<div class="line"><code class="plain">editor.document.</code><code class="keyword">char</code><code class="plain">(</code><code class="value">1</code><code class="plain">)                                           </code><code class="value">111</code></div>
<div class="line"><code class="plain">editor.document.content_type(caret_line)                          __dftl_partition_content_type</code></div>
<div class="line"><code class="plain">editor.document.get(</code><code class="value">1</code><code class="plain">, </code><code class="value">1</code><code class="plain">)                                         o</code></div>
<div class="line"><code class="plain">editor.document.legal_content_types                               __css___dftl_partition_content_type,__css_multiline_comment,__css_string_double,__css_string_single</code></div>
<div class="line"><code class="plain">editor.document.line_delimiter(caret_line)                        </code></div>
<div class="line"><code class="plain">editor.document.line_length(caret_line)                           </code><code class="value">19</code></div>
<div class="line"><code class="plain">editor.document.line_of_offset(caret_offset)                      </code><code class="value">1</code></div>
<div class="line"><code class="plain">editor.document.line_offset(caret_line)                           </code><code class="value">7</code></div>
<div class="line"><code class="plain">editor.document.length                                            </code><code class="value">28</code></div>
<div class="line"><code class="plain">editor.document.line_information(caret_line)                      offset: </code><code class="value">7</code><code class="plain">, length: </code><code class="value">18</code></div>
<div class="line"><code class="plain">editor.document.line_information_of_offset(caret_offset)          offset: </code><code class="value">7</code><code class="plain">, length: </code><code class="value">18</code></div>
<div class="line"><code class="plain">editor.document.number_of_lines                                   </code><code class="value">4</code></div>
<div class="line"><code class="plain">editor.document.number_of_lines(</code><code class="value">0</code><code class="plain">,</code><code class="value">1</code><code class="plain">)                              </code><code class="value">1</code></div>
<div class="line"><code class="plain">editor.document.legal_line_delimiters                             </code></div>
<div class="line"><code class="plain">,</code></div>
<div class="line"><code class="plain">,</code></div>
<div class="line"><code class="plain">Selection properties:</code></div>
<div class="line"><code class="plain">editor.selection.offset                                           </code><code class="value">8</code></div>
<div class="line"><code class="plain">editor.selection.text                                             background</code></div>
<div class="line"><code class="plain">editor.selection.start_line                                       </code><code class="value">1</code></div>
<div class="line"><code class="plain">editor.selection.end_line                                         </code><code class="value">1</code></div>
</div>
</div> </div>
</div>
<div class="footer">
            Created with <a href="http://k15t.com/display/web/Scroll-Wiki-EclipseHelp-Exporter-for-Confluence" target="_blank">Scroll EclipseHelp Exporter for Confluence</a>.
        </div>
</div>
</body>
</html>
