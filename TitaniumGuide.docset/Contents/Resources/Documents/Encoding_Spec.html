<!-- single file version -->
<!DOCTYPE html>
<html>
<head>
  <link href="css/github.css" rel="stylesheet" type="text/css">
  <link href="resources/css/common.css" rel="stylesheet" type="text/css">
  <meta charset="utf-8" />
</head>
<body>

<div class="container">
<div class="header"></div>
<div id="29004747" class="content">
<h1>Encoding Spec</h1>
<div class="section section-2 " id="29004747_EncodingSpec-Contents">
<h2 class="heading "><span>Contents</span></h2>
<ul class="toc-indentation "><li class=" "> <p>
<a class="document-link " href="#!/guide/Encoding_Spec-section-29004747_EncodingSpec-Overview" encoding_spec.html#29004747_encodingspec-overview="Encoding_Spec.html#29004747_EncodingSpec-Overview">Overview</a> </p>
</li><li class=" "> <p>
<a class="document-link " href="#!/guide/Encoding_Spec-section-29004747_EncodingSpec-Numbers%2Fwidths" encoding_spec.html#29004747_encodingspec-numbers%2fwidths="Encoding_Spec.html#29004747_EncodingSpec-Numbers%2Fwidths">Numbers / widths</a> </p>
</li><li class=" "> <p>
<a class="document-link " href="#!/guide/Encoding_Spec-section-29004747_EncodingSpec-ByteOrder" encoding_spec.html#29004747_encodingspec-byteorder="Encoding_Spec.html#29004747_EncodingSpec-ByteOrder">Byte Order</a> </p>
</li><li class=" "> <p>
<a class="document-link " href="#!/guide/Encoding_Spec-section-29004747_EncodingSpec-ProposedAPI" encoding_spec.html#29004747_encodingspec-proposedapi="Encoding_Spec.html#29004747_EncodingSpec-ProposedAPI">Proposed API</a> </p>
<ul class="toc-indentation "><li class=" "> <p>
<a class="document-link " href="#!/guide/Encoding_Spec-section-29004747_EncodingSpec-TiModule" encoding_spec.html#29004747_encodingspec-timodule="Encoding_Spec.html#29004747_EncodingSpec-TiModule">Ti Module</a> </p>
<ul class="toc-indentation "><li class=" "> <p>
<a class="document-link " href="#!/guide/Encoding_Spec-section-29004747_EncodingSpec-TiModuleMethods" encoding_spec.html#29004747_encodingspec-timodulemethods="Encoding_Spec.html#29004747_EncodingSpec-TiModuleMethods">Ti Module Methods</a> </p>
</li></ul></li><li class=" "> <p>
<a class="document-link " href="#!/guide/Encoding_Spec-section-29004747_EncodingSpec-Ti.CodecModule" encoding_spec.html#29004747_encodingspec-ti.codecmodule="Encoding_Spec.html#29004747_EncodingSpec-Ti.CodecModule">Ti.Codec Module</a> </p>
<ul class="toc-indentation "><li class=" "> <p>
<a class="document-link " href="#!/guide/Encoding_Spec-section-29004747_EncodingSpec-Ti.CodecConstants" encoding_spec.html#29004747_encodingspec-ti.codecconstants="Encoding_Spec.html#29004747_EncodingSpec-Ti.CodecConstants">Ti.Codec Constants</a> </p>
</li><li class=" "> <p>
<a class="document-link " href="#!/guide/Encoding_Spec-section-29004747_EncodingSpec-Ti.CodecMethods" encoding_spec.html#29004747_encodingspec-ti.codecmethods="Encoding_Spec.html#29004747_EncodingSpec-Ti.CodecMethods">Ti.Codec Methods</a> </p>
</li></ul></li></ul></li></ul> </div>
<div class="section section-2 " id="29004747_EncodingSpec-Overview">
<h2 class="heading "><span>Overview</span></h2>
<p>
Applications that read and manipulate binary data also require the ability to encode and decode that data into easily recognizable primitive types. This spec aims to solve this problem by exposing encoding, decoding, and byte order operations on the Ti.Codec module.    </p>
</div>
<div class="section section-2 " id="29004747_EncodingSpec-Numbers/widths">
<h2 class="heading "><span>Numbers / widths</span></h2>
<p>
This is a list of the accepted encoding types for numbers, and their corresponding width in bytes    </p>
<div class="tablewrap">
<table class="confluenceTable">
<thead class=" "> <tr>
<td class="confluenceTh" rowspan="1" colspan="1">
<p>
Name    </p>
</td>
<td class="confluenceTh" rowspan="1" colspan="1">
<p>
Encoding Type    </p>
</td>
<td class="confluenceTh" rowspan="1" colspan="1">
<p>
Width in bytes    </p>
</td>
</tr>
</thead><tfoot class=" "></tfoot><tbody class=" "> <tr>
<td class="confluenceTd" rowspan="1" colspan="1">
<p>
byte    </p>
</td>
<td class="confluenceTd" rowspan="1" colspan="1">
<p>
integer    </p>
</td>
<td class="confluenceTd" rowspan="1" colspan="1">
<p>
1    </p>
</td>
</tr>
<tr>
<td class="confluenceTd" rowspan="1" colspan="1">
<p>
short    </p>
</td>
<td class="confluenceTd" rowspan="1" colspan="1">
<p>
integer    </p>
</td>
<td class="confluenceTd" rowspan="1" colspan="1">
<p>
2    </p>
</td>
</tr>
<tr>
<td class="confluenceTd" rowspan="1" colspan="1">
<p>
int    </p>
</td>
<td class="confluenceTd" rowspan="1" colspan="1">
<p>
integer    </p>
</td>
<td class="confluenceTd" rowspan="1" colspan="1">
<p>
4    </p>
</td>
</tr>
<tr>
<td class="confluenceTd" rowspan="1" colspan="1">
<p>
float    </p>
</td>
<td class="confluenceTd" rowspan="1" colspan="1">
<p>
single precision floating-point    </p>
</td>
<td class="confluenceTd" rowspan="1" colspan="1">
<p>
4    </p>
</td>
</tr>
<tr>
<td class="confluenceTd" rowspan="1" colspan="1">
<p>
long    </p>
</td>
<td class="confluenceTd" rowspan="1" colspan="1">
<p>
integer    </p>
</td>
<td class="confluenceTd" rowspan="1" colspan="1">
<p>
8    </p>
</td>
</tr>
<tr>
<td class="confluenceTd" rowspan="1" colspan="1">
<p>
double    </p>
</td>
<td class="confluenceTd" rowspan="1" colspan="1">
<p>
double precision floating-point    </p>
</td>
<td class="confluenceTd" rowspan="1" colspan="1">
<p>
8    </p>
</td>
</tr>
</tbody> </table>
</div>
</div>
<div class="section section-2 " id="29004747_EncodingSpec-ByteOrder">
<h2 class="heading "><span>Byte Order</span></h2>
<p>
Depending on the use of a Ti.Buffer, different underlying primitive byte orders may be required to support various architectures. The standard byte orders are:    </p>
<ul class=" "><li class=" "> <p>
Little Endian : Least significant byte first    </p>
</li><li class=" "> <p>
Big Endian : Most significant byte first (aka Network Order)    </p>
</li></ul> <p>
Byte Order should only matter for operations on multi-byte primitive values (&quot;Numbers&quot;)    </p>
</div>
<div class="section section-2 " id="29004747_EncodingSpec-ProposedAPI">
<h2 class="heading "><span>Proposed API</span></h2>
<div class="section section-3 " id="29004747_EncodingSpec-TiModule">
<h3 class="heading "><span>Ti Module</span></h3>
<div class="section section-4 " id="29004747_EncodingSpec-TiModuleMethods">
<h4 class="heading "><span>Ti Module Methods</span></h4>
<ul class=" "><li class=" "> <p>
<tt class=" ">Ti.Buffer</tt> <tt class=" ">createBuffer</tt><tt class=" ">(Object args)</tt> : Create a new buffer    </p>
<ul class=" "><li class=" "> <p>
args : named arguments    </p>
<ul class=" "><li class=" "> <p>
<tt class=" ">Number length</tt> : The length of the buffer (optional, default value is 0 unless <tt class=" ">value</tt> is specified, at which case the length of the encoded data is used)    </p>
</li><li class=" "> <p>
<tt class=" ">String|Number value</tt> : Value to be encoded. If <tt class=" ">value</tt> is a Number, <tt class=" ">type</tt> must also be set. (this is simply a convenient way of calling Ti.Codec.encodeString or Ti.Codec.encodeNumber)    </p>
</li><li class=" "> <p>
<tt class=" ">String type</tt> : The type of data encoding to use with <tt class=" ">value</tt>. Required when <tt class=" ">value</tt> is a Number. When <tt class=" ">value</tt> is a String, <tt class=" ">Ti.Codec.CHARSET_UTF8</tt> is the default.    </p>
</li><li class=" "> <p>
<tt class=" ">Number byteOrder</tt> : The byte order of this buffer. The OS native byte order is used by default    </p>
</li></ul></li></ul></li></ul> </div>
</div>
<div class="section section-3 " id="29004747_EncodingSpec-Ti.CodecModule">
<h3 class="heading "><span>Ti.Codec Module</span></h3>
<div class="section section-4 " id="29004747_EncodingSpec-Ti.CodecConstants">
<h4 class="heading "><span>Ti.Codec Constants</span></h4>
<ul class=" "><li class=" "> <p>
<tt class=" ">String CHARSET_ASCII</tt> : The <a class="external-link external-link" href="http://en.wikipedia.org/wiki/ASCII" target="_blank">ASCII Character Set</a>, value: &quot;ascii&quot;    </p>
</li><li class=" "> <p>
<tt class=" ">String CHARSET_ISO_LATIN_1</tt> : The <a class="external-link external-link" href="http://en.wikipedia.org/wiki/ISO/IEC_8859-1" target="_blank">ISO 8859-1 (LATIN-1) Character Set</a>, value &quot;iso-latin-1&quot;    </p>
</li><li class=" "> <p>
<tt class=" ">String CHARSET_UTF8</tt> : The <a class="external-link external-link" href="http://en.wikipedia.org/wiki/UTF-8" target="_blank">UTF-8 Character Set</a>, value: &quot;utf8&quot;    </p>
</li><li class=" "> <p>
<tt class=" ">String CHARSET_UTF16</tt> : The <a class="external-link external-link" href="http://en.wikipedia.org/wiki/UTF-16/UCS-2" target="_blank">UTF-16 Character Set</a>, value: &quot;utf16&quot;    </p>
</li><li class=" "> <p>
<tt class=" ">String CHARSET_UTF16BE</tt> : The <a class="external-link external-link" href="http://en.wikipedia.org/wiki/UTF-16/UCS-2" target="_blank">UTF-16 Character Set</a> with Big Endian byte order, value: &quot;utf16be&quot;    </p>
</li><li class=" "> <p>
<tt class=" ">String CHARSET_UTF16LE</tt> : The <a class="external-link external-link" href="http://en.wikipedia.org/wiki/UTF-16/UCS-2" target="_blank">UTF-16 Character Set</a> with Little Endian byte order, value: &quot;utf16le&quot;    </p>
</li><li class=" "> <p>
<tt class=" ">String TYPE_BYTE</tt> : 8 bit integer encoding type, value: &quot;byte&quot;    </p>
</li><li class=" "> <p>
<tt class=" ">String TYPE_SHORT</tt> : 16 bit integer encoding type, value: &quot;short&quot;    </p>
</li><li class=" "> <p>
<tt class=" ">String TYPE_INT</tt> : 32 bit integer encoding type, value: &quot;int&quot;    </p>
</li><li class=" "> <p>
<tt class=" ">String TYPE_FLOAT</tt> : 32 bit single precision floating-point type, value: &quot;float&quot;    </p>
</li><li class=" "> <p>
<tt class=" ">String TYPE_LONG</tt> : 64 bit integer encoding type, value: &quot;long&quot;    </p>
</li><li class=" "> <p>
<tt class=" ">String TYPE_DOUBLE</tt> : 64 bit double precision floating-point type, value: &quot;double&quot;    </p>
</li><li class=" "> <p>
<tt class=" ">Number BIG_ENDIAN</tt> : Big Endian byte order (aka Network Order)    </p>
</li><li class=" "> <p>
<tt class=" ">Number LITTLE_ENDIAN</tt> : Little Endian byte order    </p>
</li></ul> </div>
<div class="section section-4 " id="29004747_EncodingSpec-Ti.CodecMethods">
<h4 class="heading "><span>Ti.Codec Methods</span></h4>
<ul class=" "><li class=" "> <p>
<tt class=" ">Number</tt> <tt class=" ">encodeNumber</tt><tt class=" ">(Object args)</tt> : encodes the Number <tt class=" ">source</tt> into <tt class=" ">dest</tt> using the passed in data <tt class=" ">type</tt> </p>
<ul class=" "><li class=" "> <p>
<tt class=" ">args</tt> : Named arguments    </p>
<ul class=" "><li class=" "> <p>
<tt class=" ">Number source</tt> : The Number to encode (required)    </p>
</li><li class=" "> <p>
<tt class=" ">Ti.Buffer dest</tt> : The destination buffer (required)    </p>
</li><li class=" "> <p>
<tt class=" ">Number position</tt> : The position in <tt class=" ">dest</tt> to set the encoded data (optional, default: 0)    </p>
</li><li class=" "> <p>
<tt class=" ">String type</tt> : The encoding type to use. Must be <tt class=" ">TYPE_BYTE</tt>, <tt class=" ">TYPE_SHORT</tt>, <tt class=" ">TYPE_INT</tt>, <tt class=" ">TYPE_FLOAT</tt>, <tt class=" ">TYPE_LONG</tt>, or <tt class=" ">TYPE_DOUBLE</tt> (required)    </p>
</li><li class=" "> <p>
<tt class=" ">Number byteOrder</tt> : The byte order to encode with (optional, default: native byte order)    </p>
</li></ul></li><li class=" "> <p>
returns the position after the encoded Number inside <tt class=" ">dest</tt> </p>
</li></ul></li><li class=" "> <p>
<tt class=" ">Number</tt> <tt class=" ">decodeNumber</tt><tt class=" ">(Object args)</tt> : decodes <tt class=" ">source</tt> (starting at the optional <tt class=" ">position</tt>) using the passed in data <tt class=" ">type</tt> </p>
<ul class=" "><li class=" "> <p>
<tt class=" ">args</tt> : Named arguments    </p>
<ul class=" "><li class=" "> <p>
<tt class=" ">Ti.Buffer source</tt> : The buffer to decode (required)    </p>
</li><li class=" "> <p>
<tt class=" ">String type</tt> : The encoding type to use. Must be <tt class=" ">TYPE_BYTE</tt>, <tt class=" ">TYPE_SHORT</tt>, <tt class=" ">TYPE_INT</tt>, <tt class=" ">TYPE_FLOAT</tt>, <tt class=" ">TYPE_LONG</tt>, or <tt class=" ">TYPE_DOUBLE</tt> (required)    </p>
</li><li class=" "> <p>
<tt class=" ">Number position</tt> : The position to start at (optional, default: 0)    </p>
</li><li class=" "> <p>
<tt class=" ">Number byteOrder</tt> : The byte order to decode with (optional, default: native byte order)    </p>
</li></ul></li><li class=" "> <p>
returns the Number decoded from <tt class=" ">source</tt> </p>
</li><li class=" "> <p>
throws an Exception if <tt class=" ">buffer</tt> is null, or <tt class=" ">position</tt> is greater than <tt class=" ">buffer</tt>&apos;s length    </p>
</li></ul></li><li class=" "> <p>
<tt class=" ">Number</tt> <tt class=" ">encodeString</tt><tt class=" ">(Object args)</tt> : encodes the String <tt class=" ">source</tt> into <tt class=" ">dest</tt> using <tt class=" ">charset</tt> </p>
<ul class=" "><li class=" "> <p>
<tt class=" ">args</tt> : Named arguments    </p>
<ul class=" "><li class=" "> <p>
<tt class=" ">String source</tt> : The string to encode (required)    </p>
</li><li class=" "> <p>
<tt class=" ">Ti.Buffer dest</tt> : The destination buffer (required)    </p>
</li><li class=" "> <p>
<tt class=" ">Number destPosition</tt> : The position to set the encoded data (optional, default: 0)    </p>
</li><li class=" "> <p>
<tt class=" ">Number sourcePosition</tt> : The position in <tt class=" ">source</tt> to start encoding (optional, default: 0)    </p>
</li><li class=" "> <p>
<tt class=" ">Number sourceLength</tt> : The number of characters in <tt class=" ">source</tt> to encode (optional, default: length of <tt class=" ">source</tt>)    </p>
</li><li class=" "> <p>
<tt class=" ">String charset</tt> : The character set to use when encoding this string to bytes (optional, default: <tt class=" ">CHARSET_UTF8</tt>)    </p>
</li></ul></li><li class=" "> <p>
returns the position after the encoded String inside <tt class=" ">dest</tt> </p>
</li><li class=" "> <p>
throws an Exception if <tt class=" ">charset</tt> is not a valid character set, <tt class=" ">string</tt> is null, or either <tt class=" ">sourcePosition</tt>, <tt class=" ">sourceLength</tt>, or <tt class=" ">sourcePosition</tt>+<tt class=" ">sourceLength</tt> is greater than <tt class=" ">string</tt>&apos;s length    </p>
</li></ul></li><li class=" "> <p>
<tt class=" ">String</tt> <tt class=" ">decodeString</tt><tt class=" ">(Object args)</tt> : decodes the passed in <tt class=" ">buffer</tt> into a String starting at <tt class=" ">position</tt>, with <tt class=" ">length</tt> bytes, using the supplied character set    </p>
<ul class=" "><li class=" "> <p>
<tt class=" ">args</tt> : Named arguments    </p>
<ul class=" "><li class=" "> <p>
<tt class=" ">Ti.Buffer source</tt> : The buffer to decode (required)    </p>
</li><li class=" "> <p>
<tt class=" ">Number position</tt> : The position to start decoding (optional, default: 0)    </p>
</li><li class=" "> <p>
<tt class=" ">Number length</tt> : The number of bytes to decode (optional, default: length of <tt class=" ">source</tt>)    </p>
</li><li class=" "> <p>
<tt class=" ">String charset</tt> : The character set to use when decoding this buffer (optional, default: <tt class=" ">CHARSET_UTF8</tt>)    </p>
</li></ul></li><li class=" "> <p>
throws an Exception if <tt class=" ">charset</tt> is not a valid character set, <tt class=" ">buffer</tt> is null, or either <tt class=" ">position</tt>, <tt class=" ">length</tt>, or <tt class=" ">position</tt>+<tt class=" ">length</tt> is greater than <tt class=" ">buffer</tt>&apos;s length    </p>
</li></ul></li><li class=" "> <p>
<tt class=" ">Number</tt> <tt class=" ">getNativeByteOrder</tt><tt class=" ">()</tt> : Get the OS native byte order (either <tt class=" ">BIG_ENDIAN</tt> or <tt class=" ">LITTLE_ENDIAN</tt>)    </p>
</li></ul> </div>
</div>
</div>
</div>

</div>

</body>
</html>