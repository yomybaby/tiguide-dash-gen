<!-- single file version -->
<!DOCTYPE html>
<html>
<head>
  <link href="css/github.css" rel="stylesheet" type="text/css">
  <link href="resources/css/common.css" rel="stylesheet" type="text/css">
  <meta charset="utf-8" />
</head>
<body>

<div class="container">
<div class="header"></div>
<div id="30083228" class="content">
<h1>Print Editor Properties</h1>
<div class="section section-2 " id="30083228_PrintEditorProperties-Contents">
<h2 class="heading "><span>Contents</span></h2>
<ul class="toc-indentation "><li class=" "> <p>
<a class="document-link " href="#!/guide/Print_Editor_Properties-section-30083228_PrintEditorProperties-Overview" print_editor_properties.html#30083228_printeditorproperties-overview="Print_Editor_Properties.html#30083228_PrintEditorProperties-Overview">Overview</a> </p>
</li><li class=" "> <p>
<a class="document-link " href="#!/guide/Print_Editor_Properties-section-30083228_PrintEditorProperties-TheCode" print_editor_properties.html#30083228_printeditorproperties-thecode="Print_Editor_Properties.html#30083228_PrintEditorProperties-TheCode">The Code</a> </p>
</li><li class=" "> <p>
<a class="document-link " href="#!/guide/Print_Editor_Properties-section-30083228_PrintEditorProperties-Example" print_editor_properties.html#30083228_printeditorproperties-example="Print_Editor_Properties.html#30083228_PrintEditorProperties-Example">Example</a> </p>
</li></ul> </div>
<div class="section section-2 " id="30083228_PrintEditorProperties-Overview">
<h2 class="heading "><span>Overview</span></h2>
<p>
In this recipe we show how to create a simple Ruble command that prints out the properties of the current editor    </p>
</div>
<div class="section section-2 " id="30083228_PrintEditorProperties-TheCode">
<h2 class="heading "><span>The Code</span></h2>
<p>
In the snippet below, we use the Ruby reflection method to print all the public methods available on the editor property of the context object    </p>
<div xmlns="http://www.w3.org/1999/xhtml" class="confbox programlisting scroll-unprocessed">
<div class="defaultnew syntaxhighlighter">
<div class="line"><code class="plain">require </code><code class="string">&apos;ruble&apos;</code></div>
<div class="line"><code class="plain"> </code></div>
<div class="line"><code class="plain">command </code><code class="string">&quot;Print Editor Properties&quot;</code><code class="plain"> </code><code class="keyword">do</code><code class="plain"> |cmd|</code></div>
<div class="line"><code class="plain">  cmd.output = :insert_as_text</code></div>
<div class="line"><code class="plain">  cmd.invoke </code><code class="keyword">do</code><code class="plain"> |context|</code></div>
<div class="line"><code class="plain">    CONSOLE.puts context.editor.public_methods(</code><code class="keyword">true</code><code class="plain">).sort</code></div>
<div class="line"><code class="plain">  end</code></div>
<div class="line"><code class="plain">end</code></div>
</div>
</div> </div>
<div class="section section-2 " id="30083228_PrintEditorProperties-Example">
<h2 class="heading "><span>Example</span></h2>
<p>
As an example of the above properties, you can try the following. In a blank CSS file, add the following content:    </p>
<div xmlns="http://www.w3.org/1999/xhtml" class="confbox programlisting scroll-unprocessed">
<div class="defaultnew syntaxhighlighter">
<div class="line"><code class="plain">body {</code></div>
<div class="line"><code class="plain">	background: #</code><code class="value">000</code><code class="plain">;</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
</div> <p>
Select text &quot;background&quot;, with the caret after the &quot;d&quot;    </p>
<div xmlns="http://www.w3.org/1999/xhtml" class="confbox programlisting scroll-unprocessed">
<div class="defaultnew syntaxhighlighter">
<div class="line"><code class="plain">require </code><code class="string">&apos;ruble&apos;</code></div>
<div class="line"><code class="plain">command </code><code class="string">&quot;Print Editor Properties&quot;</code><code class="plain"> </code><code class="keyword">do</code><code class="plain"> |cmd|</code></div>
<div class="line"><code class="plain">  cmd.invoke </code><code class="keyword">do</code><code class="plain"> |context|</code></div>
<div class="line"><code class="plain">    r = </code><code class="string">&quot;\nEditor properties:\n&quot;</code><code class="plain"> </code></div>
<div class="line"><code class="plain">    r &lt;&lt; </code><code class="string">&quot;editor.caret_column                                               #{context.editor.caret_column}\n&quot;</code><code class="plain"> </code></div>
<div class="line"><code class="plain">    r &lt;&lt; </code><code class="string">&quot;editor.caret_line                                                 #{context.editor.caret_line}\n&quot;</code><code class="plain"> </code></div>
<div class="line"><code class="plain">    r &lt;&lt; </code><code class="string">&quot;editor.caret_offset                                               #{context.editor.caret_offset}\n&quot;</code></div>
<div class="line"><code class="plain">    r &lt;&lt; </code><code class="string">&quot;editor.current_line                                               &apos;#{context.editor.current_line}&apos;\n&quot;</code><code class="plain"> </code></div>
<div class="line"><code class="plain">    r &lt;&lt; </code><code class="string">&quot;editor.current_line.length                                        #{context.editor.current_line.length }\n&quot;</code></div>
<div class="line"><code class="plain">    r &lt;&lt; </code><code class="string">&quot;editor.current_scope                                              #{context.editor.current_scope}\n&quot;</code></div>
<div class="line"><code class="plain">    r &lt;&lt; </code><code class="string">&quot;editor.dirty?                                                     #{context.editor.dirty?}\n&quot;</code></div>
<div class="line"><code class="plain">    r &lt;&lt; </code><code class="string">&quot;editor.line(caret_line)                                          &apos;#{context.editor.line(context.editor.caret_line)}&apos;\n&quot;</code><code class="plain"> </code></div>
<div class="line"><code class="plain">    r &lt;&lt; </code><code class="string">&quot;editor.offset_at_line(caret_line)                                 #{context.editor.offset_at_line(context.editor.caret_line)}\n&quot;</code></div>
<div class="line"><code class="plain">    r &lt;&lt; </code><code class="string">&quot;editor.line_information(caret_line)                               #{context.editor.line_information(context.editor.caret_line)}\n&quot;</code></div>
<div class="line"><code class="plain">    r &lt;&lt; </code><code class="string">&quot;editor.scope_at_offset(caret_offset)                              #{context.editor.scope_at_offset(context.editor.caret_offset)}\n&quot;</code></div>
<div class="line"><code class="plain">    r &lt;&lt; </code><code class="string">&quot;\n\nDocument properties:\n&quot;</code><code class="plain"> </code></div>
<div class="line"><code class="plain">    r &lt;&lt; </code><code class="string">&quot;editor.document.get                                               &apos;#{context.editor.document.get}&apos;\n&quot;</code></div>
<div class="line"><code class="plain">    r &lt;&lt; </code><code class="string">&quot;editor.document.char(1)                                           #{context.editor.document.char(1)}\n&quot;</code></div>
<div class="line"><code class="plain">    r &lt;&lt; </code><code class="string">&quot;editor.document.content_type(caret_line)                          #{context.editor.document.content_type(context.editor.caret_line)}\n&quot;</code></div>
<div class="line"><code class="plain">    r &lt;&lt; </code><code class="string">&quot;editor.document.get(1, 1)                                         #{context.editor.document.get(1, 1)}\n&quot;</code></div>
<div class="line"><code class="plain">    r &lt;&lt; </code><code class="string">&quot;editor.document.legal_content_types                               #{context.editor.document.legal_content_types.sort.join(&apos;,&apos;)}\n&quot;</code></div>
<div class="line"><code class="plain">    r &lt;&lt; </code><code class="string">&quot;editor.document.line_delimiter(caret_line)                        #{context.editor.document.line_delimiter(context.editor.caret_line)}\n&quot;</code></div>
<div class="line"><code class="plain">    r &lt;&lt; </code><code class="string">&quot;editor.document.line_length(caret_line)                           #{context.editor.document.line_length(context.editor.caret_line)}\n&quot;</code></div>
<div class="line"><code class="plain">    r &lt;&lt; </code><code class="string">&quot;editor.document.line_of_offset(caret_offset)                      #{context.editor.document.line_of_offset(context.editor.caret_offset)}\n&quot;</code></div>
<div class="line"><code class="plain">    r &lt;&lt; </code><code class="string">&quot;editor.document.line_offset(caret_line)                           #{context.editor.document.line_offset(context.editor.caret_line)}\n&quot;</code></div>
<div class="line"><code class="plain">    r &lt;&lt; </code><code class="string">&quot;editor.document.length                                            #{context.editor.document.length}\n&quot;</code><code class="plain"> </code></div>
<div class="line"><code class="plain">    r &lt;&lt; </code><code class="string">&quot;editor.document.line_information(caret_line)                      #{context.editor.document.line_information(context.editor.caret_line)}\n&quot;</code></div>
<div class="line"><code class="plain">    r &lt;&lt; </code><code class="string">&quot;editor.document.line_information_of_offset(caret_offset)          #{context.editor.document.line_information_of_offset(context.editor.caret_offset)}\n&quot;</code></div>
<div class="line"><code class="plain">    r &lt;&lt; </code><code class="string">&quot;editor.document.number_of_lines                                   #{context.editor.document.number_of_lines}\n&quot;</code></div>
<div class="line"><code class="plain">    r &lt;&lt; </code><code class="string">&quot;editor.document.number_of_lines(0,1)                              #{context.editor.document.number_of_lines(0,1)}\n&quot;</code></div>
<div class="line"><code class="plain">    r &lt;&lt; </code><code class="string">&quot;editor.document.legal_line_delimiters                             #{context.editor.document.legal_line_delimiters.sort.join(&apos;,&apos;)}\n&quot;</code></div>
<div class="line"><code class="plain">    r &lt;&lt; </code><code class="string">&quot;\n\nSelection properties:\n&quot;</code><code class="plain"> </code></div>
<div class="line"><code class="plain">    r &lt;&lt; </code><code class="string">&quot;editor.selection.offset                                           #{context.editor.selection.offset}\n&quot;</code></div>
<div class="line"><code class="plain">    r &lt;&lt; </code><code class="string">&quot;editor.selection.text                                             #{context.editor.selection.text}\n&quot;</code><code class="plain"> </code></div>
<div class="line"><code class="plain">    r &lt;&lt; </code><code class="string">&quot;editor.selection.start_line                                       #{context.editor.selection.start_line}\n&quot;</code></div>
<div class="line"><code class="plain">    r &lt;&lt; </code><code class="string">&quot;editor.selection.end_line                                         #{context.editor.selection.end_line}\n&quot;</code></div>
<div class="line"><code class="plain">    CONSOLE.puts r    </code></div>
<div class="line"><code class="plain">  end</code></div>
<div class="line"><code class="plain">end</code></div>
</div>
</div> <p>
Results:    </p>
<div xmlns="http://www.w3.org/1999/xhtml" class="confbox programlisting scroll-unprocessed">
<div class="defaultnew syntaxhighlighter">
<div class="line"><code class="plain">Editor properties:</code></div>
<div class="line"><code class="plain">editor.caret_column                                               </code><code class="value">1</code></div>
<div class="line"><code class="plain">editor.caret_line                                                 </code><code class="value">1</code></div>
<div class="line"><code class="plain">editor.caret_offset                                               </code><code class="value">18</code></div>
<div class="line"><code class="plain">editor.current_line                                               </code><code class="string">&apos;	background: #000;&apos;</code></div>
<div class="line"><code class="plain">editor.current_line.length                                        </code><code class="value">18</code></div>
<div class="line"><code class="plain">editor.current_scope                                              source.css meta.property-list.css meta.property-value.css punctuation.separator.key-value.css</code></div>
<div class="line"><code class="plain">editor.dirty?                                                     </code><code class="keyword">true</code></div>
<div class="line"><code class="plain">editor.line(caret_line)                                          </code><code class="string">&apos;	background: #000;&apos;</code></div>
<div class="line"><code class="plain">editor.offset_at_line(caret_line)                                 </code><code class="value">7</code></div>
<div class="line"><code class="plain">editor.line_information(caret_line)                               offset: </code><code class="value">7</code><code class="plain">, length: </code><code class="value">18</code></div>
<div class="line"><code class="plain">editor.scope_at_offset(caret_offset)                              source.css meta.property-list.css meta.property-value.css punctuation.separator.key-value.css</code></div>
<div class="line"><code class="plain">Document properties:</code></div>
<div class="line"><code class="plain">editor.document.get                                               &apos;body {</code></div>
<div class="line"><code class="plain">	background: #</code><code class="value">000</code><code class="plain">;</code></div>
<div class="line"><code class="plain">}</code></div>
<div class="line"><code class="plain">&apos;</code></div>
<div class="line"><code class="plain">editor.document.</code><code class="keyword">char</code><code class="plain">(</code><code class="value">1</code><code class="plain">)                                           </code><code class="value">111</code></div>
<div class="line"><code class="plain">editor.document.content_type(caret_line)                          __dftl_partition_content_type</code></div>
<div class="line"><code class="plain">editor.document.get(</code><code class="value">1</code><code class="plain">, </code><code class="value">1</code><code class="plain">)                                         o</code></div>
<div class="line"><code class="plain">editor.document.legal_content_types                               __css___dftl_partition_content_type,__css_multiline_comment,__css_string_double,__css_string_single</code></div>
<div class="line"><code class="plain">editor.document.line_delimiter(caret_line)                        </code></div>
<div class="line"><code class="plain">editor.document.line_length(caret_line)                           </code><code class="value">19</code></div>
<div class="line"><code class="plain">editor.document.line_of_offset(caret_offset)                      </code><code class="value">1</code></div>
<div class="line"><code class="plain">editor.document.line_offset(caret_line)                           </code><code class="value">7</code></div>
<div class="line"><code class="plain">editor.document.length                                            </code><code class="value">28</code></div>
<div class="line"><code class="plain">editor.document.line_information(caret_line)                      offset: </code><code class="value">7</code><code class="plain">, length: </code><code class="value">18</code></div>
<div class="line"><code class="plain">editor.document.line_information_of_offset(caret_offset)          offset: </code><code class="value">7</code><code class="plain">, length: </code><code class="value">18</code></div>
<div class="line"><code class="plain">editor.document.number_of_lines                                   </code><code class="value">4</code></div>
<div class="line"><code class="plain">editor.document.number_of_lines(</code><code class="value">0</code><code class="plain">,</code><code class="value">1</code><code class="plain">)                              </code><code class="value">1</code></div>
<div class="line"><code class="plain">editor.document.legal_line_delimiters                             </code></div>
<div class="line"><code class="plain">,</code></div>
<div class="line"><code class="plain">,</code></div>
<div class="line"><code class="plain">Selection properties:</code></div>
<div class="line"><code class="plain">editor.selection.offset                                           </code><code class="value">8</code></div>
<div class="line"><code class="plain">editor.selection.text                                             background</code></div>
<div class="line"><code class="plain">editor.selection.start_line                                       </code><code class="value">1</code></div>
<div class="line"><code class="plain">editor.selection.end_line                                         </code><code class="value">1</code></div>
</div>
</div> </div>
</div>

</div>

</body>
</html>